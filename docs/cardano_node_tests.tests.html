<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cardano_node_tests.tests package &mdash; cardano-node-tests  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/copyright.css" type="text/css" />
    <link rel="shortcut icon" href="https://user-images.githubusercontent.com/2352619/223086153-522289f3-9902-4f63-ad7b-a7d9c5789db0.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cardano_node_tests.tests.tests_plutus package" href="cardano_node_tests.tests.tests_plutus.html" />
    <link rel="prev" title="cardano_node_tests.pytest_plugins package" href="cardano_node_tests.pytest_plugins.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            cardano-node-tests
              <img src="_static/Cardano-Crypto-Logo-128.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">README for cardano-node-tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-tests-using-github-actions">Running tests using Github Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-tests-using-nix">Running tests using Nix</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#variables-for-configuring-testrun">Variables for configuring testrun</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#local-installation-e-g-for-tests-development">Local installation (e.g. for tests development)</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#local-usage">Local usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#tests-development">Tests development</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#test-coverage-of-cardano-cli-commands">Test coverage of Cardano CLI commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#building-documentation">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#contributing">Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test_results.html">Test Results</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test_results/nightly_system_tests.html">Nightly system tests pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/nightly_system_tests.html#test-statuses">Test statuses</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_results/nightly_system_tests.html#nightly-results">Nightly results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/nightly_system_tests.html#nightly-upgrade-testing">Nightly upgrade testing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/sync_tests.html">Sync tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_results/tag_tests.html">Tag Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_7.html">1.35.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#component-level-test-tracking">Component Level Test Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_6.html">1.35.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#component-level-test-tracking">Component Level Test Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_5.html">1.35.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html">1.35.4-rc1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#secp256k1-iog-test-tracking">SECP256k1 IOG Test Tracking</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_3.html">1.35.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#relevant-existing-issues">Relevant existing issues</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Process</a><ul>
<li class="toctree-l2"><a class="reference internal" href="process/100_test_types.html">Types and levels of tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#node-system-tests">Node system tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-nightly-cli-tests">Node nightly CLI tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-cli-tests-on-demand">Node CLI tests (on demand)</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-sync-tests">Node sync tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#db-sync-system-tests">DB Sync system tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-nightly-tests">DB Sync nightly tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-feature-tests-on-demand">DB Sync feature tests (on demand)</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-sync-tests">DB Sync sync tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#exploratory-testing">Exploratory testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/200_quality_control_strategy.html">Quality control strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#scope-and-objectives">Scope and objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#key-principles">Key principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#quality-control-approach">Quality control approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#quality-control-methodology">Quality control methodology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/200_quality_control_strategy.html#active-quality-control">Active quality control</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/200_quality_control_strategy.html#passive-quality-control">Passive quality control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/300_uat_strategy.html">User acceptance test strategy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="how-tos.html">How Tos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="how-tos/300_running_local_cluster.html">How to start a local cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#what-is-a-local-cluster">What is a local cluster</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#local-cluster-parameters">Local cluster parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#initial-setup-for-all-cardano-components">Initial setup for all Cardano components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#starting-postgres-test-database">Starting Postgres test database</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#preparing-local-cluster-scripts">Preparing local cluster scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#adjusting-some-parameter-values">Adjusting some parameter values</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#start-the-local-cluster">Start the local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#stop-the-local-cluster">Stop the local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#set-the-tx-era">Set the TX_Era</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#run-tests">Run tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#run-test-suite-from-file">Run test suite from file</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#run-a-single-test">Run a single test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#interact-with-the-node">Interact with the node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#transfer-funds-to-your-address">Transfer funds to your address</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#debugging-with-ipython">Debugging with IPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#logs-for-cardano-node-and-db-sync">Logs for <code class="docutils literal notranslate"><span class="pre">cardano-node</span></code> and <code class="docutils literal notranslate"><span class="pre">db-sync</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#accessing-the-db-sync-database">Accessing the <code class="docutils literal notranslate"><span class="pre">db-sync</span></code> database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/300_running_local_cluster.html#useful-queries">Useful queries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/300_running_local_cluster.html#additional-resources">Additional resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html">Testing MIR certificate submission with a local cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-key-pairs">Creating key pairs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#payment-key-pair">Payment key pair</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stake-key-pair">Stake key pair</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#payment-address">Payment address</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stake-address">Stake address</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#transferring-funds-from-the-faucet-address-to-our-own-shelley-address-payment-addr">Transferring funds from the ‘faucet’ address to our own Shelley address <code class="docutils literal notranslate"><span class="pre">payment.addr</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#build-tx">Build tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#sign-tx">Sign tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#submit-tx">Submit tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#check-funds-on-the-payment-addr">Check funds on the payment.addr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-a-stake-registration-certificate">Creating a stake registration certificate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#submitting-the-certificate-with-a-transaction">Submitting the certificate with a transaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#our-stake-address-has-id-13-and-is-registered">Our stake address has id=13 and is registered</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#deregistering-an-empty-stake-address">Deregistering an ‘empty’ stake address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-a-deregistration-certificate">Creating a deregistration certificate</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#generating-mir-cert-to-send-funds-from-reserves-to-unregistered-stake-address">Generating MIR cert to send funds from reserves to unregistered stake address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id4">Build tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id5">Sign tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id6">Submit tx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#state-of-tables-after-mir-cert-tx-submission">State of tables after MIR cert tx submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#logs">Logs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stdout-log">stdout.log</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html">Stake credential history tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html#example-of-usage">Example of usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/500_smash_faq.html">SMASH FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html">SMASH - tests and debugging examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#checking-smash-status">Checking SMASH status</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#fetching-of-the-metadata">Fetching of the metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#delisting-pools">Delisting pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#reserving-a-ticker">Reserving a ticker</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#whitelisting">Whitelisting</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#checking-pool-rejection-errors">Checking pool rejection errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#pool-unregistrations">Pool unregistrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#fetch-policies-from-another-smash-service">Fetch policies from another SMASH service</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#an-example-of-debugging-an-issue-with-a-pool">An example of debugging an issue with a pool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contribute/contributing.html">Contributing to the Cardano node tests repository</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#how-can-i-contribute">How can I contribute?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#reporting-an-issue">Reporting an issue</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contribute/contributing.html#how-do-i-submit-a-good-issue-report">How do I submit a (good) issue report?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#your-first-code-contribution">Your first code contribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contribute/contributing.html#pull-requests">Pull requests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#id1">Style guides</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#git-commit-messages">Git commit messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#python-style-guide">Python style guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#roles-and-responsibilities">Roles and Responsibilities</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Source Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="cardano_node_tests.html">cardano_node_tests package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="cardano_node_tests.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.cluster_management.html">cardano_node_tests.cluster_management package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.pytest_plugins.html">cardano_node_tests.pytest_plugins package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">cardano_node_tests.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.utils.html">cardano_node_tests.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.cardano_cli_coverage">cardano_node_tests.cardano_cli_coverage module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.prepare_cluster_scripts">cardano_node_tests.prepare_cluster_scripts module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.split_topology">cardano_node_tests.split_topology module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.testnet_cleanup">cardano_node_tests.testnet_cleanup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cardano-node-tests</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Source Documentation</a></li>
          <li class="breadcrumb-item"><a href="cardano_node_tests.html">cardano_node_tests package</a></li>
      <li class="breadcrumb-item active">cardano_node_tests.tests package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/input-output-hk/cardano-node-tests/blob/master/src_docs/source/cardano_node_tests.tests.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cardano-node-tests-tests-package">
<h1>cardano_node_tests.tests package<a class="headerlink" href="#cardano-node-tests-tests-package" title="Permalink to this headline"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html">cardano_node_tests.tests.tests_plutus package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.mint_build">cardano_node_tests.tests.tests_plutus.mint_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.mint_raw">cardano_node_tests.tests.tests_plutus.mint_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.spend_build">cardano_node_tests.tests.tests_plutus.spend_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.spend_raw">cardano_node_tests.tests.tests_plutus.spend_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_delegation">cardano_node_tests.tests.tests_plutus.test_delegation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_lobster">cardano_node_tests.tests.tests_plutus.test_lobster module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_build">cardano_node_tests.tests.tests_plutus.test_mint_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_negative_build">cardano_node_tests.tests.tests_plutus.test_mint_negative_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_negative_raw">cardano_node_tests.tests.tests_plutus.test_mint_negative_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_raw">cardano_node_tests.tests.tests_plutus.test_mint_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_build">cardano_node_tests.tests.tests_plutus.test_spend_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_compat_build">cardano_node_tests.tests.tests_plutus.test_spend_compat_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_compat_raw">cardano_node_tests.tests.tests_plutus.test_spend_compat_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_datum_build">cardano_node_tests.tests.tests_plutus.test_spend_datum_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_datum_raw">cardano_node_tests.tests.tests_plutus.test_spend_datum_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_negative_build">cardano_node_tests.tests.tests_plutus.test_spend_negative_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_negative_raw">cardano_node_tests.tests.tests_plutus.test_spend_negative_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_raw">cardano_node_tests.tests.tests_plutus.test_spend_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html">cardano_node_tests.tests.tests_plutus_v2 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.mint_build">cardano_node_tests.tests.tests_plutus_v2.mint_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.mint_raw">cardano_node_tests.tests.tests_plutus_v2.mint_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.spend_build">cardano_node_tests.tests.tests_plutus_v2.spend_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.spend_raw">cardano_node_tests.tests.tests_plutus_v2.spend_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_build">cardano_node_tests.tests.tests_plutus_v2.test_mint_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build">cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw">cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_raw">cardano_node_tests.tests.tests_plutus_v2.test_mint_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build">cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw">cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-cardano_node_tests.tests.common">
<span id="cardano-node-tests-tests-common-module"></span><h2>cardano_node_tests.tests.common module<a class="headerlink" href="#module-cardano_node_tests.tests.common" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.detect_fork">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">detect_fork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/common.py#L145-L197"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.detect_fork" title="Permalink to this definition"></a></dt>
<dd><p>Detect if one or more nodes have forked blockchain or is out of sync.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.fail_on_fork">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">fail_on_fork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/common.py#L200-L220"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.fail_on_fork" title="Permalink to this definition"></a></dt>
<dd><p>Fail if one or more nodes have forked blockchain or is out of sync.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_test_id">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_test_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/common.py#L127-L142"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_test_id" title="Permalink to this definition"></a></dt>
<dd><p>Return unique test ID - function name + assigned cluster instance + random string.</p>
<p>Log the test ID into cluster manager log file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.hypothesis_settings">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">hypothesis_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_examples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/common.py#L105-L116"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.hypothesis_settings" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.unique_time_str">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">unique_time_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/common.py#L119-L124"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.unique_time_str" title="Permalink to this definition"></a></dt>
<dd><p>Return unique string based on current timestamp.</p>
<p>Useful for property-based tests as it isn’t possible to use <cite>random</cite> module in hypothesis tests.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.conftest">
<span id="cardano-node-tests-tests-conftest-module"></span><h2>cardano_node_tests.tests.conftest module<a class="headerlink" href="#module-cardano_node_tests.tests.conftest" title="Permalink to this headline"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.LogsError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">LogsError</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L40-L41"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.LogsError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cd_testfile_temp_dir">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cd_testfile_temp_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L301-L305"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cd_testfile_temp_dir" title="Permalink to this definition"></a></dt>
<dd><p>Change to a temporary dir specific to a test file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.change_dir">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">change_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L164-L169"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.change_dir" title="Permalink to this definition"></a></dt>
<dd><p>Change CWD to temp directory before running tests.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.close_dbconn">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">close_dbconn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L172-L176"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.close_dbconn" title="Permalink to this definition"></a></dt>
<dd><p>Close connection to db-sync database at the end of session.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L343-L348"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster" title="Permalink to this definition"></a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_lock_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L359-L372"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_lock_pool" title="Permalink to this definition"></a></dt>
<dd><p>Lock any pool and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_manager">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L322-L340"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_manager" title="Permalink to this definition"></a></dt>
<dd><p>Return instance of <cite>cluster_management.ClusterManager</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_singleton">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_singleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L351-L356"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_singleton" title="Permalink to this definition"></a></dt>
<dd><p>Lock whole cluster instance and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_use_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_use_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L375-L388"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_use_pool" title="Permalink to this definition"></a></dt>
<dd><p>Mark any pool as “in use” and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.function_autouse">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">function_autouse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L308-L312"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.function_autouse" title="Permalink to this definition"></a></dt>
<dd><p>Autouse function fixtures that are required for each test setup and teardown.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_addoption">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_addoption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L44-L64"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_addoption" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_collection_modifyitems">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_collection_modifyitems</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L152-L161"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_collection_modifyitems" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_configure">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L67-L110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_configure" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.session_autouse">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">session_autouse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">change_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_dbconn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testenv_setup_teardown</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L271-L277"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.session_autouse" title="Permalink to this definition"></a></dt>
<dd><p>Autouse session fixtures that are required for session setup and teardown.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.testenv_setup_teardown">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">testenv_setup_teardown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L225-L268"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.testenv_setup_teardown" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.testfile_temp_dir">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">testfile_temp_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/conftest.py#L280-L298"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.testfile_temp_dir" title="Permalink to this definition"></a></dt>
<dd><p>Return a temporary dir for storing test artifacts.</p>
<p>The dir is specific to a single test file.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.delegation">
<span id="cardano-node-tests-tests-delegation-module"></span><h2>cardano_node_tests.tests.delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.delegation" title="Permalink to this headline"></a></h2>
<p>Functionality for stake address delegation used in multiple tests modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.AddressRecordScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">AddressRecordScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_file</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L24-L26"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.AddressRecordScript" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.AddressRecordScript.address">
<span class="sig-name descname"><span class="pre">address</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.AddressRecordScript.address" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.AddressRecordScript.script_file">
<span class="sig-name descname"><span class="pre">script_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.AddressRecordScript.script_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">DelegationOut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_raw_output</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L34-L37"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut.pool_id">
<span class="sig-name descname"><span class="pre">pool_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.pool_id" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut.pool_user">
<span class="sig-name descname"><span class="pre">pool_user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.PoolUser</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.pool_user" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut.tx_raw_output">
<span class="sig-name descname"><span class="pre">tx_raw_output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.tx_raw_output" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.PoolUserScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">PoolUserScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L29-L31"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.PoolUserScript.payment">
<span class="sig-name descname"><span class="pre">payment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.AddressRecord</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.PoolUserScript.payment" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.PoolUserScript.stake">
<span class="sig-name descname"><span class="pre">stake</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.AddressRecordScript" title="cardano_node_tests.tests.delegation.AddressRecordScript"><span class="pre">cardano_node_tests.tests.delegation.AddressRecordScript</span></a></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.PoolUserScript.stake" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L50-L103"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.cluster_and_pool" title="Permalink to this definition"></a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>, and pool id to delegate to.</p>
<p>We need to mark the pool as “in use” when requesting local cluster
instance, that’s why cluster instance and pool id are tied together in
single fixture.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.db_check_delegation">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">db_check_delegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">cardano_node_tests.tests.delegation.PoolUserScript</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_utils.TxRecord" title="cardano_node_tests.utils.dbsync_utils.TxRecord"><span class="pre">cardano_node_tests.utils.dbsync_utils.TxRecord</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deleg_epoch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L106-L119"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.db_check_delegation" title="Permalink to this definition"></a></dt>
<dd><p>Check delegation in db-sync.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.delegate_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">delegate_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrs_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cold_vkey</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationOut" title="cardano_node_tests.tests.delegation.DelegationOut"><span class="pre">cardano_node_tests.tests.delegation.DelegationOut</span></a></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L122-L220"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.delegate_stake_addr" title="Permalink to this definition"></a></dt>
<dd><p>Submit registration certificate and delegate to pool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.get_pool_id">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">get_pool_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrs_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/delegation.py#L40-L47"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.get_pool_id" title="Permalink to this definition"></a></dt>
<dd><p>Return stake pool id.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.kes">
<span id="cardano-node-tests-tests-kes-module"></span><h2>cardano_node_tests.tests.kes module<a class="headerlink" href="#module-cardano_node_tests.tests.kes" title="Permalink to this headline"></a></h2>
<p>Functionality for KES key used in multiple tests modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">KesScenarios</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py#L19-L23"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.ALL_INVALID">
<span class="sig-name descname"><span class="pre">ALL_INVALID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all_invalid'</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.ALL_INVALID" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.ALL_VALID">
<span class="sig-name descname"><span class="pre">ALL_VALID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all_valid'</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.ALL_VALID" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.INVALID_COUNTERS">
<span class="sig-name descname"><span class="pre">INVALID_COUNTERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'invalid_counters'</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.INVALID_COUNTERS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.INVALID_KES_PERIOD">
<span class="sig-name descname"><span class="pre">INVALID_KES_PERIOD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'invalid_kes_period'</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.INVALID_KES_PERIOD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.check_kes_period_info_result">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">check_kes_period_info_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kes_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_start_kes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py#L26-L182"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.check_kes_period_info_result" title="Permalink to this definition"></a></dt>
<dd><p>Check output <cite>kes-period-info</cite> command.</p>
<p>When <cite>pool_num</cite> is specified, prometheus metrics are checked.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.get_xfails">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">get_xfails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/kes.py#L185-L201"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.get_xfails" title="Permalink to this definition"></a></dt>
<dd><p>Get xfail error strings.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.plutus_common">
<span id="cardano-node-tests-tests-plutus-common-module"></span><h2>cardano_node_tests.tests.plutus_common module<a class="headerlink" href="#module-cardano_node_tests.tests.plutus_common" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">ExecutionCost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_cost</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L72-L75"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost.fixed_cost">
<span class="sig-name descname"><span class="pre">fixed_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost.fixed_cost" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost.per_space">
<span class="sig-name descname"><span class="pre">per_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost.per_space" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost.per_time">
<span class="sig-name descname"><span class="pre">per_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost.per_time" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">PlutusOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum_cbor_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_cbor_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_cost</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L169-L177"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.datum_cbor_file">
<span class="sig-name descname"><span class="pre">datum_cbor_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.datum_cbor_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.datum_file">
<span class="sig-name descname"><span class="pre">datum_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.datum_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.datum_value">
<span class="sig-name descname"><span class="pre">datum_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.datum_value" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.execution_cost">
<span class="sig-name descname"><span class="pre">execution_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.execution_cost" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_cbor_file">
<span class="sig-name descname"><span class="pre">redeemer_cbor_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_cbor_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_file">
<span class="sig-name descname"><span class="pre">redeemer_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_value">
<span class="sig-name descname"><span class="pre">redeemer_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_value" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.script_file">
<span class="sig-name descname"><span class="pre">script_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.script_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">PlutusScriptData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_cost</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L128-L130"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData.execution_cost">
<span class="sig-name descname"><span class="pre">execution_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData.execution_cost" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData.script_file">
<span class="sig-name descname"><span class="pre">script_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData.script_file" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">ScriptCost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fee</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collateral</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_collateral</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L185-L188"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost.collateral">
<span class="sig-name descname"><span class="pre">collateral</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost.collateral" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost.fee">
<span class="sig-name descname"><span class="pre">fee</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost.fee" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost.min_collateral">
<span class="sig-name descname"><span class="pre">min_collateral</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost.min_collateral" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.Token">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">Token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L180-L182"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.Token" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.Token.amount">
<span class="sig-name descname"><span class="pre">amount</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.Token.amount" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.Token.coin">
<span class="sig-name descname"><span class="pre">coin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.Token.coin" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.check_plutus_costs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">check_plutus_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plutus_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.15</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L191-L221"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.check_plutus_costs" title="Permalink to this definition"></a></dt>
<dd><p>Check plutus transaction cost.</p>
<p>units: the time is in picoseconds and the space is in bytes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.check_return_collateral">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">check_return_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L302-L399"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.check_return_collateral" title="Permalink to this definition"></a></dt>
<dd><p>Check if collateral is returned on Plutus script failure.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.check_secp_expected_error_msg">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">check_secp_expected_error_msg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L402-L424"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.check_secp_expected_error_msg" title="Permalink to this definition"></a></dt>
<dd><p>Check expected error message when using SECP functions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.compute_cost">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">compute_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">execution_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collateral_fraction_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ScriptCost" title="cardano_node_tests.tests.plutus_common.ScriptCost"><span class="pre">cardano_node_tests.tests.plutus_common.ScriptCost</span></a></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L233-L250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.compute_cost" title="Permalink to this definition"></a></dt>
<dd><p>Compute fee and collateral required for the Plutus script.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.get_cost_per_unit">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">get_cost_per_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L224-L230"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.get_cost_per_unit" title="Permalink to this definition"></a></dt>
<dd><p>Get execution cost per unit in Lovelace.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.txout_factory">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">txout_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.PlutusOp" title="cardano_node_tests.tests.plutus_common.PlutusOp"><span class="pre">cardano_node_tests.tests.plutus_common.PlutusOp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">coin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lovelace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline_datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.TxOut</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/plutus_common.py#L253-L299"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.txout_factory" title="Permalink to this definition"></a></dt>
<dd><p>Create <cite>TxOut</cite> object.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_blocks">
<span id="cardano-node-tests-tests-test-blocks-module"></span><h2>cardano_node_tests.tests.test_blocks module<a class="headerlink" href="#module-cardano_node_tests.tests.test_blocks" title="Permalink to this headline"></a></h2>
<p>Tests for blocks production.</p>
<p>Other block production checks may be present in <cite>test_staking.py</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_blocks.</span></span><span class="sig-name descname"><span class="pre">TestCollectData</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L170-L329"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for collecting data about blocks production.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L176-L202"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">during</span> <span class="pre">block-production</span> <span class="pre">testing'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.test_block_production">
<span class="sig-name descname"><span class="pre">test_block_production</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L204-L329"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.test_block_production" title="Permalink to this definition"></a></dt>
<dd><p>Record number of blocks produced by each pool over multiple epochs.</p>
<ul>
<li><p>register and delegate a stake address to every pool</p></li>
<li><p>collect block production data over multiple epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch save ledger state</p></li>
<li><p>each epoch save block production data to sqlite db</p></li>
<li><p>transfer funds between multiple addresses to create activity</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_blocks.</span></span><span class="sig-name descname"><span class="pre">TestLeadershipSchedule</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L29-L167"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli leadership-schedule.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.skip_leadership_schedule">
<span class="sig-name descname"><span class="pre">skip_leadership_schedule</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L32-L35"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.skip_leadership_schedule" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_pool_blocks">
<span class="sig-name descname"><span class="pre">test_pool_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_leadership_schedule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_epoch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L37-L128"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_pool_blocks" title="Permalink to this definition"></a></dt>
<dd><p>Check that blocks were minted according to leadership schedule.</p>
<ul class="simple">
<li><p>query leadership schedule for selected pool for current epoch or next epoch</p></li>
<li><p>wait for epoch that comes after the queried epoch</p></li>
<li><p>get info about minted blocks in queried epoch for the selected pool</p></li>
<li><p>compare leadership schedule with blocks that were actually minted</p></li>
<li><p>compare db-sync records with ledger state dump</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_unstable_stake_distribution">
<span class="sig-name descname"><span class="pre">test_unstable_stake_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_leadership_schedule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_blocks.py#L130-L167"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_unstable_stake_distribution" title="Permalink to this definition"></a></dt>
<dd><p>Try to query leadership schedule for next epoch when stake distribution is unstable.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_chain_transactions">
<span id="cardano-node-tests-tests-test-chain-transactions-module"></span><h2>cardano_node_tests.tests.test_chain_transactions module<a class="headerlink" href="#module-cardano_node_tests.tests.test_chain_transactions" title="Permalink to this headline"></a></h2>
<p>Tests for transactions chaining.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_chain_transactions.</span></span><span class="sig-name descname"><span class="pre">TestTxChaining</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_chain_transactions.py#L69-L180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_chain_transactions.py#L70-L74"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining.cluster" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining.payment_addr">
<span class="sig-name descname"><span class="pre">payment_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_chain_transactions.py#L76-L98"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining.payment_addr" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining.test_tx_chaining">
<span class="sig-name descname"><span class="pre">test_tx_chaining</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_chain_transactions.py#L100-L180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining.test_tx_chaining" title="Permalink to this definition"></a></dt>
<dd><p>Test transactions chaining.</p>
<p>Submit Txs one by one without waiting for them to appear on ledger and use output of one
Tx as input for the next Tx. As a result, Txs are using inputs that doesn’t exist on ledger
yet. Node needs to lookup the Tx in mempool and correctly chain the dependent transactons.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_cli">
<span id="cardano-node-tests-tests-test-cli-module"></span><h2>cardano_node_tests.tests.test_cli module<a class="headerlink" href="#module-cardano_node_tests.tests.test_cli" title="Permalink to this headline"></a></h2>
<p>Tests for cardano-cli that doesn’t fit into any other test file.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAddressBuild</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L293-L493"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address build.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.stake_address_option_unusable">
<span class="sig-name descname"><span class="pre">stake_address_option_unusable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L297-L299"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.stake_address_option_unusable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.test_address_build">
<span class="sig-name descname"><span class="pre">test_address_build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_address_option_unusable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L301-L377"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.test_address_build" title="Permalink to this definition"></a></dt>
<dd><p>Check <cite>address build</cite> with all valid input options.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_payment_info">
<span class="sig-name descname"><span class="pre">test_invalid_payment_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L379-L426"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_payment_info" title="Permalink to this definition"></a></dt>
<dd><p>Try to use ‘address build’ with invalid payment information (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_stake_info">
<span class="sig-name descname"><span class="pre">test_invalid_stake_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_address_option_unusable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L428-L493"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_stake_info" title="Permalink to this definition"></a></dt>
<dd><p>Try to use ‘address build’ with invalid stake address information (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAddressInfo</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L173-L290"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address info.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment">
<span class="sig-name descname"><span class="pre">test_address_info_payment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_gen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L178-L199"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment" title="Permalink to this definition"></a></dt>
<dd><p>Check payment address info.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment_with_outfile">
<span class="sig-name descname"><span class="pre">test_address_info_payment_with_outfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L255-L275"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment_with_outfile" title="Permalink to this definition"></a></dt>
<dd><p>Compare payment address info with and without outfile provided.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_script">
<span class="sig-name descname"><span class="pre">test_address_info_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L224-L253"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_script" title="Permalink to this definition"></a></dt>
<dd><p>Check script address info.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_stake">
<span class="sig-name descname"><span class="pre">test_address_info_stake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_gen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L201-L222"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_stake" title="Permalink to this definition"></a></dt>
<dd><p>Check stake address info.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_with_invalid_address">
<span class="sig-name descname"><span class="pre">test_address_info_with_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L277-L290"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_with_invalid_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to use ‘address info’ with invalid address (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAddressKeyHash</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L496-L554"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address key-hash.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_invalid_verification_key">
<span class="sig-name descname"><span class="pre">test_invalid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L524-L554"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_invalid_verification_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to use <cite>address key-hash</cite> with invalid verification key (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_valid_verification_key">
<span class="sig-name descname"><span class="pre">test_valid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L500-L522"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_valid_verification_key" title="Permalink to this definition"></a></dt>
<dd><p>Check <cite>address key-hash</cite> with valid verification key.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAdvancedQueries</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L858-L1170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic sanity tests for advanced cardano-cli query commands.</p>
<p>The <cite>query leadership-schedule</cite> is handled by more complex tests <cite>TestLeadershipSchedule</cite>
as it requires complex setup.
For <cite>query protocol-state</cite> see <cite>test_protocol_state_keys</cite> smoke test.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.pool_ids">
<span class="sig-name descname"><span class="pre">pool_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L1044-L1049"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.pool_ids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_ledger_state">
<span class="sig-name descname"><span class="pre">test_ledger_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L1051-L1064"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_ledger_state" title="Permalink to this definition"></a></dt>
<dd><p>Test <cite>query ledger-state</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_params">
<span class="sig-name descname"><span class="pre">test_pool_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L1103-L1115"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_params" title="Permalink to this definition"></a></dt>
<dd><p>Test <cite>query pool-params</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_state">
<span class="sig-name descname"><span class="pre">test_pool_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L1161-L1170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_state" title="Permalink to this definition"></a></dt>
<dd><p>Test <cite>query pool-state</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_stake_snapshot">
<span class="sig-name descname"><span class="pre">test_stake_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L1066-L1101"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_stake_snapshot" title="Permalink to this definition"></a></dt>
<dd><p>Test <cite>query stake-snapshot</cite>.</p>
<p>See also <cite>TestLedgerState.test_stake_snapshot</cite> for more scenarios.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_tx_mempool_info">
<span class="sig-name descname"><span class="pre">test_tx_mempool_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L1117-L1159"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_tx_mempool_info" title="Permalink to this definition"></a></dt>
<dd><p>Test ‘query tx-mempool info’.</p>
<ul class="simple">
<li><p>check that the expected fields are returned</p></li>
<li><p>check that the slot number returned is the last applied on the ledger plus one</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestCLI</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L30-L170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE">
<span class="sig-name descname"><span class="pre">TX_BODY_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.body')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_OUT">
<span class="sig-name descname"><span class="pre">TX_BODY_OUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx_body.out')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_OUT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_FILE">
<span class="sig-name descname"><span class="pre">TX_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.signed')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_OUT">
<span class="sig-name descname"><span class="pre">TX_OUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.out')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_OUT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_protocol_mode">
<span class="sig-name descname"><span class="pre">test_protocol_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L39-L57"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_protocol_mode" title="Permalink to this definition"></a></dt>
<dd><p>Check the default protocol mode - command works even without specifying protocol mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_query_tip">
<span class="sig-name descname"><span class="pre">test_query_tip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L115-L170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_query_tip" title="Permalink to this definition"></a></dt>
<dd><p>Test <cite>query tip</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_sign_tx_with_process_substitution">
<span class="sig-name descname"><span class="pre">test_sign_tx_with_process_substitution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L79-L92"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_sign_tx_with_process_substitution" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to pass skey file using process substitution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_tx_view">
<span class="sig-name descname"><span class="pre">test_tx_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L94-L113"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_tx_view" title="Permalink to this definition"></a></dt>
<dd><p>Check that the output of <cite>transaction view</cite> is as expected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_txid_with_process_substitution">
<span class="sig-name descname"><span class="pre">test_txid_with_process_substitution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L59-L77"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_txid_with_process_substitution" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to pass Tx file using process substitution.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestKey</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L557-L627"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli key.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_error">
<span class="sig-name descname"><span class="pre">test_non_extended_key_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L604-L627"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_error" title="Permalink to this definition"></a></dt>
<dd><p>Try to get a non-extended verification key with a signing key file.</p>
<p>Expect failure. Should only allow extended verification key files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_valid">
<span class="sig-name descname"><span class="pre">test_non_extended_key_valid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L562-L585"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_valid" title="Permalink to this definition"></a></dt>
<dd><p>Check that the non-extended verification key is according the verification key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.test_stake_non_extended_key">
<span class="sig-name descname"><span class="pre">test_stake_non_extended_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L587-L602"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.test_stake_non_extended_key" title="Permalink to this definition"></a></dt>
<dd><p>Get a stake non-extended-key from a stake extended key.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestQueryUTxO</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L630-L794"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli query utxo.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_address_invalid_data">
<span class="sig-name descname"><span class="pre">test_address_invalid_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L771-L794"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_address_invalid_data" title="Permalink to this definition"></a></dt>
<dd><p>Try to use ‘query utxo’ with invalid ‘address’ (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_pretty_utxo">
<span class="sig-name descname"><span class="pre">test_pretty_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L652-L732"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_pretty_utxo" title="Permalink to this definition"></a></dt>
<dd><p>Check that pretty printed <cite>query utxo</cite> output looks as expected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_tx_in_invalid_data">
<span class="sig-name descname"><span class="pre">test_tx_in_invalid_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L734-L769"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_tx_in_invalid_data" title="Permalink to this definition"></a></dt>
<dd><p>Try to use ‘query utxo’ with invalid ‘tx-in’ (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_whole_utxo">
<span class="sig-name descname"><span class="pre">test_whole_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L634-L650"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_whole_utxo" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to return the whole UTxO on local cluster.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestStakeAddressKeyHash</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L797-L855"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli stake-address key-hash.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_invalid_verification_key">
<span class="sig-name descname"><span class="pre">test_invalid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L825-L855"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_invalid_verification_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to use <cite>stake-address key-hash</cite> with invalid verification key (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_valid_verification_key">
<span class="sig-name descname"><span class="pre">test_valid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_cli.py#L801-L823"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_valid_verification_key" title="Permalink to this definition"></a></dt>
<dd><p>Check <cite>stake-address key-hash</cite> with valid verification key.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_configuration">
<span id="cardano-node-tests-tests-test-configuration-module"></span><h2>cardano_node_tests.tests.test_configuration module<a class="headerlink" href="#module-cardano_node_tests.tests.test_configuration" title="Permalink to this headline"></a></h2>
<p>Tests for node configuration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">TestBasic</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L128-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for node configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(5,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic.test_epoch_length">
<span class="sig-name descname"><span class="pre">test_epoch_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_epoch_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L134-L142"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.test_epoch_length" title="Permalink to this definition"></a></dt>
<dd><p>Test the <em>epochLength</em> configuration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic.test_slot_length">
<span class="sig-name descname"><span class="pre">test_slot_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_slot_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L144-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.test_slot_length" title="Permalink to this definition"></a></dt>
<dd><p>Test the <em>slotLength</em> configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.check_epoch_length">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">check_epoch_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L105-L125"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.check_epoch_length" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.cluster_epoch_length">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">cluster_epoch_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch_length_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L81-L90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.cluster_epoch_length" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.cluster_slot_length">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">cluster_slot_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">slot_length_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L93-L102"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.cluster_slot_length" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.epoch_length_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">epoch_length_start_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L23-L49"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.epoch_length_start_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Update <em>epochLength</em> to 1200.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.slot_length_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">slot_length_start_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_configuration.py#L52-L78"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.slot_length_start_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Update <em>slotLength</em> to 0.3.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_dbsync">
<span id="cardano-node-tests-tests-test-dbsync-module"></span><h2>cardano_node_tests.tests.test_dbsync module<a class="headerlink" href="#module-cardano_node_tests.tests.test_dbsync" title="Permalink to this headline"></a></h2>
<p>Tests for db-sync.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync.</span></span><span class="sig-name descname"><span class="pre">TestDBSync</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py#L27-L333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General db-sync tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.DBSYNC_TABLES">
<span class="sig-name descname"><span class="pre">DBSYNC_TABLES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ada_pots',</span> <span class="pre">'block',</span> <span class="pre">'collateral_tx_in',</span> <span class="pre">'collateral_tx_out',</span> <span class="pre">'cost_model',</span> <span class="pre">'datum',</span> <span class="pre">'delegation',</span> <span class="pre">'delisted_pool',</span> <span class="pre">'epoch',</span> <span class="pre">'epoch_param',</span> <span class="pre">'epoch_stake',</span> <span class="pre">'epoch_sync_time',</span> <span class="pre">'extra_key_witness',</span> <span class="pre">'ma_tx_mint',</span> <span class="pre">'ma_tx_out',</span> <span class="pre">'meta',</span> <span class="pre">'multi_asset',</span> <span class="pre">'param_proposal',</span> <span class="pre">'pool_hash',</span> <span class="pre">'pool_metadata_ref',</span> <span class="pre">'pool_offline_data',</span> <span class="pre">'pool_offline_fetch_error',</span> <span class="pre">'pool_owner',</span> <span class="pre">'pool_relay',</span> <span class="pre">'pool_retire',</span> <span class="pre">'pool_update',</span> <span class="pre">'pot_transfer',</span> <span class="pre">'redeemer',</span> <span class="pre">'redeemer_data',</span> <span class="pre">'reference_tx_in',</span> <span class="pre">'reserve',</span> <span class="pre">'reserved_pool_ticker',</span> <span class="pre">'reward',</span> <span class="pre">'schema_version',</span> <span class="pre">'script',</span> <span class="pre">'slot_leader',</span> <span class="pre">'stake_address',</span> <span class="pre">'stake_deregistration',</span> <span class="pre">'stake_registration',</span> <span class="pre">'treasury',</span> <span class="pre">'tx',</span> <span class="pre">'tx_in',</span> <span class="pre">'tx_metadata',</span> <span class="pre">'tx_out',</span> <span class="pre">'withdrawal'}</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.DBSYNC_TABLES" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_blocks">
<span class="sig-name descname"><span class="pre">test_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py#L90-L210"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_blocks" title="Permalink to this definition"></a></dt>
<dd><p>Check expected values in the <cite>block</cite> table in db-sync.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_cost_model">
<span class="sig-name descname"><span class="pre">test_cost_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py#L212-L236"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_cost_model" title="Permalink to this definition"></a></dt>
<dd><p>Check expected values in the <cite>cost_model</cite> table in db-sync.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_epoch">
<span class="sig-name descname"><span class="pre">test_epoch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py#L296-L333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_epoch" title="Permalink to this definition"></a></dt>
<dd><p>Check expected values in the <cite>epoch</cite> table in db-sync.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_reconnect_dbsync">
<span class="sig-name descname"><span class="pre">test_reconnect_dbsync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py#L238-L294"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_reconnect_dbsync" title="Permalink to this definition"></a></dt>
<dd><p>Check that db-sync reconnects to the node after the node is restarted.</p>
<ul class="simple">
<li><p>restart all nodes of the running cluster</p></li>
<li><p>submit a transaction</p></li>
<li><p>check that the transaction is present on dbsync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_table_names">
<span class="sig-name descname"><span class="pre">test_table_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_dbsync.py#L78-L88"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_table_names" title="Permalink to this definition"></a></dt>
<dd><p>Check that all the expected tables are present in db-sync.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_delegation">
<span id="cardano-node-tests-tests-test-delegation-module"></span><h2>cardano_node_tests.tests.test_delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.test_delegation" title="Permalink to this headline"></a></h2>
<p>Tests for stake address registration and delegation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">TestDelegateAddr</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L127-L847"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for address delegation to stake pools.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='order',</span> <span class="pre">args=(8,),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_delegation_deregistration">
<span class="sig-name descname"><span class="pre">test_addr_delegation_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_cert</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_address_option_unusable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L611-L755"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_delegation_deregistration" title="Permalink to this definition"></a></dt>
<dd><p>Submit delegation and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>create stake address registration cert</p></li>
<li><p>create stake address deregistration cert</p></li>
<li><p>register stake address</p></li>
<li><p>create stake address delegation cert</p></li>
<li><p>delegate and deregister stake address in single TX</p></li>
<li><p>check that the balance for source address was correctly updated and that the key
deposit was returned</p></li>
<li><p>check that the stake address was NOT delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_registration_certificate_order">
<span class="sig-name descname"><span class="pre">test_addr_registration_certificate_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L757-L847"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_registration_certificate_order" title="Permalink to this definition"></a></dt>
<dd><p>Submit (de)registration certificates in single TX and check that the order matter.</p>
<ul class="simple">
<li><p>create stake address registration cert</p></li>
<li><p>create stake address deregistration cert</p></li>
<li><p>register, deregister, register, deregister and register stake address in single TX</p></li>
<li><p>check that the address is registered</p></li>
<li><p>check that the balance for source address was correctly updated and that key deposit
was needed</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_registration_deregistration">
<span class="sig-name descname"><span class="pre">test_addr_registration_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L525-L609"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_registration_deregistration" title="Permalink to this definition"></a></dt>
<dd><p>Submit registration and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>create stake address registration cert</p></li>
<li><p>create stake address deregistration cert</p></li>
<li><p>register and deregister stake address in single TX</p></li>
<li><p>check that the balance for source address was correctly updated and that key deposit
was not needed</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_pool_id">
<span class="sig-name descname"><span class="pre">test_delegate_using_pool_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L132-L173"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_pool_id" title="Permalink to this definition"></a></dt>
<dd><p>Submit registration certificate and delegate to pool using pool id.</p>
<ul class="simple">
<li><p>register stake address and delegate it to pool</p></li>
<li><p>check that the stake address was delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_vkey">
<span class="sig-name descname"><span class="pre">test_delegate_using_vkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L175-L221"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_vkey" title="Permalink to this definition"></a></dt>
<dd><p>Submit registration certificate and delegate to pool using cold vkey.</p>
<ul class="simple">
<li><p>register stake address and delegate it to pool</p></li>
<li><p>check that the stake address was delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_deregister">
<span class="sig-name descname"><span class="pre">test_deregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L223-L384"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_deregister" title="Permalink to this definition"></a></dt>
<dd><p>Deregister stake address.</p>
<ul class="simple">
<li><p>create two payment addresses that share single stake address</p></li>
<li><p>register and delegate the stake address to pool</p></li>
<li><p>attempt to deregister the stake address - deregistration is expected to fail
because there are rewards in the stake address</p></li>
<li><p>withdraw rewards to payment address and deregister stake address</p></li>
<li><p>check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>check that the stake address is no longer delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_undelegate">
<span class="sig-name descname"><span class="pre">test_undelegate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L386-L523"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_undelegate" title="Permalink to this definition"></a></dt>
<dd><p>Undelegate stake address.</p>
<ul>
<li><p>submit registration certificate and delegate to pool</p></li>
<li><p>wait for first reward</p></li>
<li><p>undelegate stake address:</p>
<blockquote>
<div><ul class="simple">
<li><p>withdraw rewards to payment address</p></li>
<li><p>deregister stake address</p></li>
<li><p>re-register stake address</p></li>
</ul>
</div></blockquote>
</li>
<li><p>check that the key deposit was not returned</p></li>
<li><p>check that rewards were withdrawn</p></li>
<li><p>check that the stake address is still registered</p></li>
<li><p>check that the stake address is no longer delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L850-L1250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests that are expected to fail.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_addr_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_delegate_addr_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L932-L988"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_addr_with_wrong_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to delegate stake address using wrong payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_deregistered_addr">
<span class="sig-name descname"><span class="pre">test_delegate_deregistered_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L1046-L1142"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_deregistered_addr" title="Permalink to this definition"></a></dt>
<dd><p>Try to delegate deregistered stake address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_unknown_addr">
<span class="sig-name descname"><span class="pre">test_delegate_unknown_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L990-L1044"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_unknown_addr" title="Permalink to this definition"></a></dt>
<dd><p>Try to delegate unknown stake address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegatee_not_registered">
<span class="sig-name descname"><span class="pre">test_delegatee_not_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L1192-L1250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegatee_not_registered" title="Permalink to this definition"></a></dt>
<dd><p>Try to delegate stake address to unregistered pool.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegation_cert_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_delegation_cert_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L875-L896"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegation_cert_with_wrong_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate stake address delegation certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_deregister_not_registered_addr">
<span class="sig-name descname"><span class="pre">test_deregister_not_registered_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L1144-L1190"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_deregister_not_registered_addr" title="Permalink to this definition"></a></dt>
<dd><p>Deregister not registered stake address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_register_addr_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_register_addr_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L898-L930"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_register_addr_with_wrong_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to register stake address using wrong payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_registration_cert_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_registration_cert_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L855-L873"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_registration_cert_with_wrong_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate stake address registration certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L22-L26"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.cluster_and_pool" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L29-L53"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users" title="Permalink to this definition"></a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users_cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users_cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L70-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_cluster_and_pool" title="Permalink to this definition"></a></dt>
<dd><p>Create pool users using <cite>cluster_and_pool</cite> fixture.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The cached addresses can be used only for payments, not for delegation!
The pool can be different every time the fixture is called.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users_disposable">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L56-L67"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_disposable" title="Permalink to this definition"></a></dt>
<dd><p>Create function scoped pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users_disposable_cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L103-L115"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_disposable_cluster_and_pool" title="Permalink to this definition"></a></dt>
<dd><p>Create function scoped pool users using <cite>cluster_and_pool</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.stake_address_option_unusable">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">stake_address_option_unusable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_delegation.py#L118-L124"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.stake_address_option_unusable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_kes">
<span id="cardano-node-tests-tests-test-kes-module"></span><h2>cardano_node_tests.tests.test_kes module<a class="headerlink" href="#module-cardano_node_tests.tests.test_kes" title="Permalink to this headline"></a></h2>
<p>Tests for KES period.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_kes.</span></span><span class="sig-name descname"><span class="pre">TestKES</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L155-L877"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for KES period.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.MAX_INT_VAL">
<span class="sig-name descname"><span class="pre">MAX_INT_VAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">18446744073709551616</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.MAX_INT_VAL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_expired_kes">
<span class="sig-name descname"><span class="pre">test_expired_kes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_kes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L160-L359"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_expired_kes" title="Permalink to this definition"></a></dt>
<dd><p>Test expired KES.</p>
<ul class="simple">
<li><p>start local cluster instance configured with short KES period and low number of key
evolutions, so KES expires soon on all pools</p></li>
<li><p>refresh opcert on 2 of the 3 pools, so KES doesn’t expire on those 2 pools and
the pools keep minting blocks</p></li>
<li><p>wait for KES expiration on the selected pool</p></li>
<li><p>check that the pool with expired KES didn’t mint blocks in an epoch that followed after
KES expiration</p></li>
<li><p>check KES period info command with an operational certificate with an expired KES</p></li>
<li><p>check KES period info command with operational certificates with a valid KES</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_negative_kes_period_arg">
<span class="sig-name descname"><span class="pre">test_negative_kes_period_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L841-L877"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_negative_kes_period_arg" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate new operational certificate with a negative value for <cite>–kes-period</cite>.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_no_kes_period_arg">
<span class="sig-name descname"><span class="pre">test_no_kes_period_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L806-L839"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_no_kes_period_arg" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate new operational certificate without specifying the <cite>–kes-period</cite>.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_opcert_invalid_kes_period">
<span class="sig-name descname"><span class="pre">test_opcert_invalid_kes_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L361-L618"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_opcert_invalid_kes_period" title="Permalink to this definition"></a></dt>
<dd><p>Start a stake pool with an operational certificate created with invalid <cite>–kes-period</cite>.</p>
<ul>
<li><p>generate new operational certificate with <cite>–kes-period</cite> in the future</p></li>
<li><p>restart the node with the new operational certificate</p></li>
<li><p>check that the pool is not minting any blocks</p></li>
<li><p>if network era &gt; Alonzo</p>
<blockquote>
<div><ul class="simple">
<li><p>generate new operational certificate with valid <cite>–kes-period</cite>, but counter value +2
from last used operational certificate</p></li>
<li><p>restart the node</p></li>
<li><p>check that the pool is not minting any blocks</p></li>
</ul>
</div></blockquote>
</li>
<li><p>generate new operational certificate with valid <cite>–kes-period</cite> and restart the node</p></li>
<li><p>check that the pool is minting blocks again</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_update_valid_opcert">
<span class="sig-name descname"><span class="pre">test_update_valid_opcert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L620-L804"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_update_valid_opcert" title="Permalink to this definition"></a></dt>
<dd><p>Update a valid operational certificate with another valid operational certificate.</p>
<ul class="simple">
<li><p>generate new operational certificate with valid <cite>–kes-period</cite></p></li>
<li><p>copy new operational certificate to the node</p></li>
<li><p>stop the node so the corresponding pool is not minting new blocks</p></li>
<li><p>check <cite>kes-period-info</cite> while the pool is not minting blocks</p></li>
<li><p>start the node with the new operational certificate</p></li>
<li><p>check that the pool is minting blocks again</p></li>
<li><p>check that metrics reported by <cite>kes-period-info</cite> got updated once the pool started
minting blocks again</p></li>
<li><p>check <cite>kes-period-info</cite> with the old (replaced) operational certificate</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.cluster_kes">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_kes.</span></span><span class="sig-name descname"><span class="pre">cluster_kes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">short_kes_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L94-L103"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.cluster_kes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.short_kes_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_kes.</span></span><span class="sig-name descname"><span class="pre">short_kes_start_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_kes.py#L53-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.short_kes_start_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Update <em>slotsPerKESPeriod</em> and <em>maxKESEvolutions</em>.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_ledger_state">
<span id="cardano-node-tests-tests-test-ledger-state-module"></span><h2>cardano_node_tests.tests.test_ledger_state module<a class="headerlink" href="#module-cardano_node_tests.tests.test_ledger_state" title="Permalink to this headline"></a></h2>
<p>Tests for ledger state.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_ledger_state.TestLedgerState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_ledger_state.</span></span><span class="sig-name descname"><span class="pre">TestLedgerState</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_ledger_state.py#L30-L225"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.TestLedgerState" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for ledger state.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_ledger_state.TestLedgerState.test_stake_snapshot">
<span class="sig-name descname"><span class="pre">test_stake_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_ledger_state.py#L33-L225"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.TestLedgerState.test_stake_snapshot" title="Permalink to this definition"></a></dt>
<dd><p>Test the <cite>stake-snapshot</cite> and <cite>ledger-state</cite> commands and ledger state values.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_metrics">
<span id="cardano-node-tests-tests-test-metrics-module"></span><h2>cardano_node_tests.tests.test_metrics module<a class="headerlink" href="#module-cardano_node_tests.tests.test_metrics" title="Permalink to this headline"></a></h2>
<p>Tests for Prometheus and EKG metrics.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestEKG">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">TestEKG</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L124-L142"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>EKG metrics tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestEKG.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestEKG.test_available_metrics">
<span class="sig-name descname"><span class="pre">test_available_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait_epochs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L128-L142"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG.test_available_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Test that available EKG metrics matches the expected schema.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">TestPrometheus</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L43-L121"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prometheus metrics tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus.EXPECTED_METRICS">
<span class="sig-name descname"><span class="pre">EXPECTED_METRICS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['cardano_node_metrics_Forge_adopted_int',</span> <span class="pre">'cardano_node_metrics_Forge_forge_about_to_lead_int',</span> <span class="pre">'cardano_node_metrics_Forge_forged_int',</span> <span class="pre">'cardano_node_metrics_Forge_node_is_leader_int',</span> <span class="pre">'cardano_node_metrics_Forge_node_not_leader_int',</span> <span class="pre">'cardano_node_metrics_Mem_resident_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcLiveBytes_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcMajorNum_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcMinorNum_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcticks_int',</span> <span class="pre">'cardano_node_metrics_RTS_mutticks_int',</span> <span class="pre">'cardano_node_metrics_Stat_cputicks_int',</span> <span class="pre">'cardano_node_metrics_Stat_threads_int',</span> <span class="pre">'cardano_node_metrics_blockNum_int',</span> <span class="pre">'cardano_node_metrics_blocksForgedNum_int',</span> <span class="pre">'cardano_node_metrics_currentKESPeriod_int',</span> <span class="pre">'cardano_node_metrics_delegMapSize_int',</span> <span class="pre">'cardano_node_metrics_density_real',</span> <span class="pre">'cardano_node_metrics_epoch_int',</span> <span class="pre">'cardano_node_metrics_mempoolBytes_int',</span> <span class="pre">'cardano_node_metrics_myBlocksUncoupled_int',</span> <span class="pre">'cardano_node_metrics_nodeIsLeaderNum_int',</span> <span class="pre">'cardano_node_metrics_nodeStartTime_int',</span> <span class="pre">'cardano_node_metrics_operationalCertificateExpiryKESPeriod_int',</span> <span class="pre">'cardano_node_metrics_operationalCertificateStartKESPeriod_int',</span> <span class="pre">'cardano_node_metrics_remainingKESPeriods_int',</span> <span class="pre">'cardano_node_metrics_served_header_counter_int',</span> <span class="pre">'cardano_node_metrics_slotInEpoch_int',</span> <span class="pre">'cardano_node_metrics_slotNum_int',</span> <span class="pre">'cardano_node_metrics_txsInMempool_int',</span> <span class="pre">'cardano_node_metrics_txsProcessedNum_int',</span> <span class="pre">'cardano_node_metrics_utxoSize_int',</span> <span class="pre">'ekg_server_timestamp_ms',</span> <span class="pre">'rts_gc_bytes_allocated',</span> <span class="pre">'rts_gc_bytes_copied',</span> <span class="pre">'rts_gc_cpu_ms',</span> <span class="pre">'rts_gc_cumulative_bytes_used',</span> <span class="pre">'rts_gc_current_bytes_slop',</span> <span class="pre">'rts_gc_current_bytes_used',</span> <span class="pre">'rts_gc_gc_cpu_ms',</span> <span class="pre">'rts_gc_gc_wall_ms',</span> <span class="pre">'rts_gc_init_cpu_ms',</span> <span class="pre">'rts_gc_init_wall_ms',</span> <span class="pre">'rts_gc_max_bytes_slop',</span> <span class="pre">'rts_gc_max_bytes_used',</span> <span class="pre">'rts_gc_mutator_cpu_ms',</span> <span class="pre">'rts_gc_mutator_wall_ms',</span> <span class="pre">'rts_gc_num_bytes_usage_samples',</span> <span class="pre">'rts_gc_num_gcs',</span> <span class="pre">'rts_gc_par_avg_bytes_copied',</span> <span class="pre">'rts_gc_par_max_bytes_copied',</span> <span class="pre">'rts_gc_par_tot_bytes_copied',</span> <span class="pre">'rts_gc_peak_megabytes_allocated',</span> <span class="pre">'rts_gc_wall_ms']</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.EXPECTED_METRICS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus.test_available_metrics">
<span class="sig-name descname"><span class="pre">test_available_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait_epochs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L104-L121"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.test_available_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Test that list of available metrics == list of expected metrics.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.get_ekg_metrics">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">get_ekg_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">requests.models.Response</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L35-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.get_ekg_metrics" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.get_prometheus_metrics">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">get_prometheus_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">requests.models.Response</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L29-L32"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.get_prometheus_metrics" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.wait_epochs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">wait_epochs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_metrics.py#L21-L26"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.wait_epochs" title="Permalink to this definition"></a></dt>
<dd><p>Make sure we are not checking metrics in epoch &lt; 4.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_mir_certs">
<span id="cardano-node-tests-tests-test-mir-certs-module"></span><h2>cardano_node_tests.tests.test_mir_certs module<a class="headerlink" href="#module-cardano_node_tests.tests.test_mir_certs" title="Permalink to this headline"></a></h2>
<p>Tests for MIR certificates.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">TestMIRCerts</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L116-L1024"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for MIR certificates.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_pay_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_build_pay_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L519-L616"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_pay_stake_addr_from" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves or treasury pot to stake address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>check that the expected amount was added to the stake address reward account</p></li>
<li><p>(optional) check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_reserves">
<span class="sig-name descname"><span class="pre">test_build_transfer_to_reserves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L348-L427"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_reserves" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the treasury pot to the reserves pot.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_treasury">
<span class="sig-name descname"><span class="pre">test_build_transfer_to_treasury</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L193-L272"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_treasury" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves pot to the treasury pot.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_multi_stake_addrs">
<span class="sig-name descname"><span class="pre">test_pay_multi_stake_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L751-L892"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_multi_stake_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves and treasury pots to multiple stake addresses in single TX.</p>
<ul class="simple">
<li><p>generate an MIR certificates for transferring from treasury for each stake address</p></li>
<li><p>generate an MIR certificates for transferring from reserves for each stake address</p></li>
<li><p>submit a TX with all the MIR certificates generated in previous steps</p></li>
<li><p>check that the expected amount was added to all stake address reward accounts</p></li>
<li><p>(optional) check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_pay_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L429-L517"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves or treasury pot to stake address.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>check that the expected amount was added to the stake address reward account</p></li>
<li><p>(optional) check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from_both">
<span class="sig-name descname"><span class="pre">test_pay_stake_addr_from_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L618-L749"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from_both" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves and treasury pots to stake address.</p>
<ul class="simple">
<li><p>generate an MIR certificate for transferring from treasury</p></li>
<li><p>generate an MIR certificate for transferring from reserves</p></li>
<li><p>submit a TX with the treasury MIR certificate</p></li>
<li><p>in the same epoch as the previous TX, submit a TX with the reserves MIR certificate</p></li>
<li><p>check that the expected amount was added to the stake address reward account</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_unregistered_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_pay_unregistered_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_history</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L894-L1024"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_unregistered_stake_addr_from" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves or treasury pot to unregistered stake address.</p>
<ul>
<li><p>generate an MIR certificate</p></li>
<li><p>if a stake address should be known on blockchain:</p>
<blockquote>
<div><ul class="simple">
<li><p>register the stake address</p></li>
<li><p>if transferring funds from treasury, deregister the stake address
BEFORE submitting the TX</p></li>
</ul>
</div></blockquote>
</li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>if a stake address should be known on blockchain and if transferring funds from reserves,
deregister the stake address AFTER submitting the TX</p></li>
<li><p>check that the amount was NOT added to the stake address reward account</p></li>
<li><p>(optional) check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_reserves">
<span class="sig-name descname"><span class="pre">test_transfer_to_reserves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L274-L346"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_reserves" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the treasury pot to the reserves pot.</p>
<p>Expected to fail when Era &lt; Alonzo.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_treasury">
<span class="sig-name descname"><span class="pre">test_transfer_to_treasury</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L119-L191"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_treasury" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from the reserves pot to the treasury pot.</p>
<p>Expected to fail when Era &lt; Alonzo.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">TestNegativeMIRCerts</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L1027-L1076"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for MIR certificates.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts.test_exceed_pay_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_exceed_pay_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L1030-L1076"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts.test_exceed_pay_stake_addr_from" title="Permalink to this definition"></a></dt>
<dd><p>Try to send more funds than available from the reserves or treasury pot to stake address.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>check that submitting the transaction fails with an expected error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.cluster_pots">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">cluster_pots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L42-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.cluster_pots" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L54-L78"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.pool_users" title="Permalink to this definition"></a></dt>
<dd><p>Create pool user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.registered_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">registered_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L81-L101"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.registered_users" title="Permalink to this definition"></a></dt>
<dd><p>Register pool user’s stake address.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.skip_on_hf_shortcut">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">skip_on_hf_shortcut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_mir_certs.py#L104-L113"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.skip_on_hf_shortcut" title="Permalink to this definition"></a></dt>
<dd><p>Skip test if HF shortcut is used.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_native_tokens">
<span id="cardano-node-tests-tests-test-native-tokens-module"></span><h2>cardano_node_tests.tests.test_native_tokens module<a class="headerlink" href="#module-cardano_node_tests.tests.test_native_tokens" title="Permalink to this headline"></a></h2>
<p>Tests for native tokens.</p>
<ul class="simple">
<li><p>minting</p></li>
<li><p>burning</p></li>
<li><p>locking</p></li>
<li><p>transactions</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestCLITxOutSyntax</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L2121-L2262"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests of syntax for specifying muti-asset values and txouts.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.test_multiasset_txouts_syntax">
<span class="sig-name descname"><span class="pre">test_multiasset_txouts_syntax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L2127-L2262"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.test_multiasset_txouts_syntax" title="Permalink to this definition"></a></dt>
<dd><p>Test syntax for specifying multi-asset values and txouts via CLI.</p>
<p>Test it by minting one token and burning the same token in single transaction.</p>
<ul class="simple">
<li><p>create a script</p></li>
<li><p>specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>assemble CLI arguments for <cite>transaction build</cite> and test syntax for multi-asset values
and txouts</p></li>
<li><p>build Tx body using the assembled CLI arguments, sign and submit the Tx</p></li>
<li><p>check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestMinting</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L110-L1007"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting and burning tokens.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_sign">
<span class="sig-name descname"><span class="pre">test_bundle_minting_and_burning_sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L725-L836"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_sign" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning multiple different tokens that are in single bundle.</p>
<p>Sign the TX using skeys.</p>
<ul class="simple">
<li><p>mint several tokens using a single script</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_witnesses">
<span class="sig-name descname"><span class="pre">test_bundle_minting_and_burning_witnesses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multisig_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L609-L723"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_witnesses" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning multiple different tokens that are in single bundle.</p>
<p>Sign the TX using witnesses.</p>
<ul class="simple">
<li><p>mint several tokens using a single script</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_sign">
<span class="sig-name descname"><span class="pre">test_minting_and_burning_sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aname_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L216-L300"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_sign" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning of tokens, sign the transaction using skeys.</p>
<ul class="simple">
<li><p>mint 2 tokens - one identified by policyid + asset name
and one identified by just policyid</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_witnesses">
<span class="sig-name descname"><span class="pre">test_minting_and_burning_witnesses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aname_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L115-L214"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_witnesses" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning of tokens, sign the transaction using witnesses.</p>
<ul class="simple">
<li><p>mint 2 tokens - one identified by policyid + asset name
and one identified by just policyid</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>check output of the <cite>transaction view</cite> command</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_partial_burning">
<span class="sig-name descname"><span class="pre">test_minting_and_partial_burning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L838-L929"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_partial_burning" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and partial burning of tokens.</p>
<ul class="simple">
<li><p>mint a token</p></li>
<li><p>burn part of the minted token, check the expected amount</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_diff_tokens_single_tx">
<span class="sig-name descname"><span class="pre">test_minting_burning_diff_tokens_single_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L412-L511"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_diff_tokens_single_tx" title="Permalink to this definition"></a></dt>
<dd><p>Test minting one token and burning other token in single transaction.</p>
<p>Sign transactions using skeys.</p>
<ul class="simple">
<li><p>create a script</p></li>
<li><p>1st TX - mint first token</p></li>
<li><p>2nd TX - mint second token, burn first token</p></li>
<li><p>3rd TX - burn second token</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_same_token_single_tx">
<span class="sig-name descname"><span class="pre">test_minting_burning_same_token_single_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L513-L607"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_same_token_single_tx" title="Permalink to this definition"></a></dt>
<dd><p>Test minting one token and burning the same token in single transaction.</p>
<p>Sign transactions using skeys.</p>
<ul class="simple">
<li><p>create a script</p></li>
<li><p>specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_multiple_scripts">
<span class="sig-name descname"><span class="pre">test_minting_multiple_scripts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L302-L410"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_multiple_scripts" title="Permalink to this definition"></a></dt>
<dd><p>Test minting of tokens using several different scripts in single transaction.</p>
<ul class="simple">
<li><p>create tokens issuers</p></li>
<li><p>create a script for each issuer</p></li>
<li><p>mint 2 tokens with each script - one identified by policyid + asset name
and one identified by just policyid. The minting is done in single transaction,
the transaction is signed using skeys.</p></li>
<li><p>check that the tokens were minted</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check that the tokens were burnt</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_unicode_asset_name">
<span class="sig-name descname"><span class="pre">test_minting_unicode_asset_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L931-L1007"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_unicode_asset_name" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning of token with unicode non-ascii chars in its asset name.</p>
<p>Tests <a class="reference external" href="https://github.com/input-output-hk/cardano-node/issues/2337">https://github.com/input-output-hk/cardano-node/issues/2337</a></p>
<ul class="simple">
<li><p>mint a token that has non-ascii characters in its asset name</p></li>
<li><p>burn the minted token</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1971-L2118"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for minting tokens.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative.test_long_name">
<span class="sig-name descname"><span class="pre">test_long_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L2028-L2078"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.test_long_name" title="Permalink to this definition"></a></dt>
<dd><p>Try to create token with asset name that is longer than allowed.</p>
<p>The name can also contain characters that are not allowed. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative.test_minting_amount_above_the_allowed">
<span class="sig-name descname"><span class="pre">test_minting_amount_above_the_allowed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L2080-L2118"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.test_minting_amount_above_the_allowed" title="Permalink to this definition"></a></dt>
<dd><p>Test minting a token amount above the maximum allowed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestPolicies</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1010-L1459"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting and burning tokens using minting policies.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_future">
<span class="sig-name descname"><span class="pre">test_policy_after_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1328-L1398"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_future" title="Permalink to this definition"></a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the policy is not met.</p>
<p>The “after” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_past">
<span class="sig-name descname"><span class="pre">test_policy_after_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1400-L1459"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_past" title="Permalink to this definition"></a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the policy is not met.</p>
<p>The “after” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_future">
<span class="sig-name descname"><span class="pre">test_policy_before_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1267-L1326"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_future" title="Permalink to this definition"></a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the policy is not met.</p>
<p>The “before” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_past">
<span class="sig-name descname"><span class="pre">test_policy_before_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1198-L1265"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_past" title="Permalink to this definition"></a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the “before” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_after">
<span class="sig-name descname"><span class="pre">test_valid_policy_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1016-L1104"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_after" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning of tokens after a given slot, check fees in Lovelace.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_before">
<span class="sig-name descname"><span class="pre">test_valid_policy_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1106-L1196"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_before" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning of tokens before a given slot, check fees in Lovelace.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestReferenceUTxO</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L2265-L2436"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Simple Scripts V1 and V2 on reference UTxOs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Babbage+</span> <span class="pre">TX'}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.test_script_reference_utxo">
<span class="sig-name descname"><span class="pre">test_script_reference_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L2274-L2436"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.test_script_reference_utxo" title="Permalink to this definition"></a></dt>
<dd><p>Test minting and burning a token using reference script.</p>
<p>Mint and burn token in the same transaction
Sign transactions using skeys.</p>
<ul class="simple">
<li><p>create a Simple Script</p></li>
<li><p>create a reference UTxO with the script</p></li>
<li><p>specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestTransfer</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1462-L1968"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transferring tokens.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.NEW_TOKENS_NUM">
<span class="sig-name descname"><span class="pre">NEW_TOKENS_NUM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20000000</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.NEW_TOKENS_NUM" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.new_token">
<span class="sig-name descname"><span class="pre">new_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord"><span class="pre">cardano_node_tests.utils.clusterlib_utils.TokenRecord</span></a></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1499-L1526"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.new_token" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1470-L1497"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_invalid_token_amount">
<span class="sig-name descname"><span class="pre">test_transfer_invalid_token_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord"><span class="pre">cardano_node_tests.utils.clusterlib_utils.TokenRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1895-L1968"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_invalid_token_amount" title="Permalink to this definition"></a></dt>
<dd><p>Test sending an invalid amount of tokens to payment address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_multiple_tokens">
<span class="sig-name descname"><span class="pre">test_transfer_multiple_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord"><span class="pre">cardano_node_tests.utils.clusterlib_utils.TokenRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1663-L1842"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_multiple_tokens" title="Permalink to this definition"></a></dt>
<dd><p>Test sending multiple different tokens to payment addresses.</p>
<ul class="simple">
<li><p>send multiple different tokens from 1 source address to 2 destination addresses</p></li>
<li><p>check expected token balances for both source and destination addresses for each token</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_no_ada">
<span class="sig-name descname"><span class="pre">test_transfer_no_ada</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord"><span class="pre">cardano_node_tests.utils.clusterlib_utils.TokenRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1844-L1893"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_no_ada" title="Permalink to this definition"></a></dt>
<dd><p>Try to create an UTxO with just native tokens, no ADA. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_tokens">
<span class="sig-name descname"><span class="pre">test_transfer_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord"><span class="pre">cardano_node_tests.utils.clusterlib_utils.TokenRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L1528-L1661"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_tokens" title="Permalink to this definition"></a></dt>
<dd><p>Test sending tokens to payment address.</p>
<ul class="simple">
<li><p>send tokens from 1 source address to 1 destination address</p></li>
<li><p>check expected token balances for both source and destination addresses</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.issuers_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">issuers_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L36-L56"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.issuers_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new issuers addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.multisig_script_policyid">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">multisig_script_policyid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L85-L107"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.multisig_script_policyid" title="Permalink to this definition"></a></dt>
<dd><p>Return multisig script and it’s PolicyId.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.simple_script_policyid">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">simple_script_policyid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_native_tokens.py#L59-L82"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.simple_script_policyid" title="Permalink to this definition"></a></dt>
<dd><p>Return script and its PolicyId.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_node_upgrade">
<span id="cardano-node-tests-tests-test-node-upgrade-module"></span><h2>cardano_node_tests.tests.test_node_upgrade module<a class="headerlink" href="#module-cardano_node_tests.tests.test_node_upgrade" title="Permalink to this headline"></a></h2>
<p>Tests for node upgrade.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">TestSetup</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L84-L115"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for setting up cardano network before and during upgrade testing.</p>
<p>Special tests that run outside of normal test run.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup.test_ignore_log_errors">
<span class="sig-name descname"><span class="pre">test_ignore_log_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L90-L115"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup.test_ignore_log_errors" title="Permalink to this definition"></a></dt>
<dd><p>Ignore selected errors in log right after node upgrade.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">TestUpgrade</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L118-L293"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for node upgrade testing.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='upgrade',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_prepare_tx">
<span class="sig-name descname"><span class="pre">test_prepare_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L122-L219"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_prepare_tx" title="Permalink to this definition"></a></dt>
<dd><p>Prepare transactions that will be submitted in next steps of upgrade testing.</p>
<p>For testing that transaction created by previous node version and/or in previous era can
be submitted in next node version and/or next era.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_submit_tx">
<span class="sig-name descname"><span class="pre">test_submit_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L221-L293"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_submit_tx" title="Permalink to this definition"></a></dt>
<dd><p>Submit transaction that was created by previous node version and/or in previous era.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.payment_addrs_disposable">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">payment_addrs_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L60-L81"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.payment_addrs_disposable" title="Permalink to this definition"></a></dt>
<dd><p>Create new disposable payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.payment_addrs_locked">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">payment_addrs_locked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_node_upgrade.py#L30-L57"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.payment_addrs_locked" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_pool_saturation">
<span id="cardano-node-tests-tests-test-pool-saturation-module"></span><h2>cardano_node_tests.tests.test_pool_saturation module<a class="headerlink" href="#module-cardano_node_tests.tests.test_pool_saturation" title="Permalink to this headline"></a></h2>
<p>Tests of effect of pool saturation on rewards and blocks production.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">PoolRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delegation_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_rewards</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">owner_rewards</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_minted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saturation_amounts</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py#L31-L41"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.blocks_minted">
<span class="sig-name descname"><span class="pre">blocks_minted</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.blocks_minted" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 7</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.delegation_out">
<span class="sig-name descname"><span class="pre">delegation_out</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationOut" title="cardano_node_tests.tests.delegation.DelegationOut"><span class="pre">cardano_node_tests.tests.delegation.DelegationOut</span></a></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.delegation_out" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.id" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.id_dec">
<span class="sig-name descname"><span class="pre">id_dec</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.id_dec" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.name" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.owner_rewards">
<span class="sig-name descname"><span class="pre">owner_rewards</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="cardano_node_tests.tests.test_pool_saturation.RewardRecord"><span class="pre">cardano_node_tests.tests.test_pool_saturation.RewardRecord</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.owner_rewards" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 6</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.reward_addr">
<span class="sig-name descname"><span class="pre">reward_addr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.PoolUser</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.reward_addr" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.saturation_amounts">
<span class="sig-name descname"><span class="pre">saturation_amounts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.saturation_amounts" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 8</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.user_rewards">
<span class="sig-name descname"><span class="pre">user_rewards</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="cardano_node_tests.tests.test_pool_saturation.RewardRecord"><span class="pre">cardano_node_tests.tests.test_pool_saturation.RewardRecord</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.user_rewards" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">RewardRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epoch_no</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_per_epoch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_total</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py#L24-L28"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.epoch_no">
<span class="sig-name descname"><span class="pre">epoch_no</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.epoch_no" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_per_epoch">
<span class="sig-name descname"><span class="pre">reward_per_epoch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_per_epoch" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_total">
<span class="sig-name descname"><span class="pre">reward_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_total" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.stake_total">
<span class="sig-name descname"><span class="pre">stake_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.stake_total" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">TestPoolSaturation</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py#L205-L527"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(5,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation.test_oversaturated">
<span class="sig-name descname"><span class="pre">test_oversaturated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py#L208-L527"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation.test_oversaturated" title="Permalink to this definition"></a></dt>
<dd><p>Check diminished rewards when stake pool is oversaturated.</p>
<p>The stake pool continues to operate normally and those who delegate to that pool receive
rewards, but the rewards are proportionally lower than those received from stake pool
that is not oversaturated.</p>
<ul class="simple">
<li><p>register and delegate stake address in “init epoch”, for all available pools</p></li>
<li><p>in “init epoch” + 2, saturate all available pools (block distribution remains balanced
among pools)</p></li>
<li><p>in “init epoch” + 4, oversaturate one pool</p></li>
<li><p>in “init epoch” + 6, for all available pools, withdraw rewards and transfer funds
from delegated addresses so pools are no longer (over)saturated</p></li>
<li><p>while doing the steps above, collect rewards data for 10 epochs</p></li>
<li><p>compare proportionality of rewards in epochs where pools were non-saturated,
saturated and oversaturated</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.cluster_lock_pools">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pool_saturation.py#L44-L46"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.cluster_lock_pools" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_pools">
<span id="cardano-node-tests-tests-test-pools-module"></span><h2>cardano_node_tests.tests.test_pools module<a class="headerlink" href="#module-cardano_node_tests.tests.test_pools" title="Permalink to this headline"></a></h2>
<p>Tests for operations with stake pools.</p>
<ul class="simple">
<li><p>pool registration</p></li>
<li><p>pool deregistration</p></li>
<li><p>pool update</p></li>
<li><p>pool metadata</p></li>
<li><p>pool reregistration</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1895-L2428"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stake pool tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.gen_pool_registration_cert_data">
<span class="sig-name descname"><span class="pre">gen_pool_registration_cert_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.KeyPair</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.ColdKeyPair</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1938-L1962"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.gen_pool_registration_cert_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.pool_data">
<span class="sig-name descname"><span class="pre">pool_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1928-L1936"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pool_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1900-L1926"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pool_users" title="Permalink to this definition"></a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_deregistration_not_registered">
<span class="sig-name descname"><span class="pre">test_pool_deregistration_not_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2115-L2163"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_deregistration_not_registered" title="Permalink to this definition"></a></dt>
<dd><p>Try to deregister pool that is not registered.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_cold">
<span class="sig-name descname"><span class="pre">test_pool_registration_cert_wrong_cold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1989-L2012"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_cold" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate pool registration certificate using wrong Cold vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_stake">
<span class="sig-name descname"><span class="pre">test_pool_registration_cert_wrong_stake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2014-L2037"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_stake" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate pool registration certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_vrf">
<span class="sig-name descname"><span class="pre">test_pool_registration_cert_wrong_vrf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1964-L1987"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_vrf" title="Permalink to this definition"></a></dt>
<dd><p>Try to generate pool registration certificate using wrong VRF key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_cold_skey">
<span class="sig-name descname"><span class="pre">test_pool_registration_missing_cold_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2039-L2076"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_cold_skey" title="Permalink to this definition"></a></dt>
<dd><p>Try to register pool using transaction with missing Cold skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_payment_skey">
<span class="sig-name descname"><span class="pre">test_pool_registration_missing_payment_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2078-L2113"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_payment_skey" title="Permalink to this definition"></a></dt>
<dd><p>Try to register pool using transaction with missing payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_long_metadata_url">
<span class="sig-name descname"><span class="pre">test_stake_pool_long_metadata_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_pool_registration_cert_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.KeyPair</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.ColdKeyPair</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2387-L2428"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_long_metadata_url" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool registration cert when the <em>metadata-url</em> is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_description">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2293-L2323"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_description" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when the <em>description</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_homepage">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_homepage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2359-L2385"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_homepage" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when the <em>homepage</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_name">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2261-L2291"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_name" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when the <em>name</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_ticker">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_ticker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2325-L2357"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_ticker" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when the <em>ticker</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_description">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2189-L2211"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_description" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>description</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_homepage">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_homepage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2237-L2259"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_homepage" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>homepage</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_name">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2165-L2187"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_name" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>name</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_ticker">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_ticker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L2213-L2235"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_ticker" title="Permalink to this definition"></a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>ticker</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestPoolCost</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1754-L1892"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for stake pool cost.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.cluster_mincost">
<span class="sig-name descname"><span class="pre">cluster_mincost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_cost_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1760-L1770"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.cluster_mincost" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.pool_owners">
<span class="sig-name descname"><span class="pre">pool_owners</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_mincost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1772-L1802"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.pool_owners" title="Permalink to this definition"></a></dt>
<dd><p>Create class scoped pool owners.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='xdist_group',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={'name':</span> <span class="pre">'minPoolCost'}),</span> <span class="pre">Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(5,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_cost">
<span class="sig-name descname"><span class="pre">test_stake_pool_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_mincost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_owners</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1846-L1892"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_cost" title="Permalink to this definition"></a></dt>
<dd><p>Create and register a stake pool with <em>pool cost</em> &gt;= <em>minPoolCost</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_low_cost">
<span class="sig-name descname"><span class="pre">test_stake_pool_low_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_mincost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_owners</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1804-L1844"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_low_cost" title="Permalink to this definition"></a></dt>
<dd><p>Try to create and register a stake pool with pool cost lower than <em>minPoolCost</em>.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestStakePool</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L625-L1751"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General tests for stake pools.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='dbsync',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(7,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_cancel_stake_pool_deregistration">
<span class="sig-name descname"><span class="pre">test_cancel_stake_pool_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1135-L1277"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_cancel_stake_pool_deregistration" title="Permalink to this definition"></a></dt>
<dd><p>Reregister a stake pool that is in course of being retired.</p>
<ul class="simple">
<li><p>deregister stake pool in epoch + 2</p></li>
<li><p>reregister the pool by resubmitting the pool registration certificate</p></li>
<li><p>delegate stake address to pool again (the address is already registered)</p></li>
<li><p>check that no additional pool deposit was used</p></li>
<li><p>check that pool is still correctly setup</p></li>
<li><p>check that the stake addresses is still delegated</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_create_stake_pool">
<span class="sig-name descname"><span class="pre">test_create_stake_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_of_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L788-L837"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_create_stake_pool" title="Permalink to this definition"></a></dt>
<dd><p>Create and register a stake pool (without metadata).</p>
<p>Check that pool was registered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_deregister_stake_pool">
<span class="sig-name descname"><span class="pre">test_deregister_stake_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L839-L970"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_deregister_stake_pool" title="Permalink to this definition"></a></dt>
<dd><p>Deregister stake pool.</p>
<ul class="simple">
<li><p>deregister stake pool</p></li>
<li><p>check that the stake addresses are no longer delegated</p></li>
<li><p>check that the pool deposit was returned to reward account</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_pool_registration_deregistration">
<span class="sig-name descname"><span class="pre">test_pool_registration_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1657-L1751"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_pool_registration_deregistration" title="Permalink to this definition"></a></dt>
<dd><p>Send both pool registration and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>create pool registration cert</p></li>
<li><p>create pool deregistration cert</p></li>
<li><p>register and deregister stake pool in single TX</p></li>
<li><p>check that the pool deposit was NOT returned to reward account as the reward address
is not registered (deposit is lost)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_reregister_stake_pool">
<span class="sig-name descname"><span class="pre">test_reregister_stake_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L972-L1133"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_reregister_stake_pool" title="Permalink to this definition"></a></dt>
<dd><p>Reregister stake pool.</p>
<ul class="simple">
<li><p>deregister stake pool</p></li>
<li><p>check that the stake addresses are no longer delegated</p></li>
<li><p>reregister the pool by resubmitting the pool registration certificate</p></li>
<li><p>delegate stake address to pool again (the address is already registered)</p></li>
<li><p>check that pool was correctly setup</p></li>
<li><p>check that the stake addresses were delegated</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_sign_in_multiple_stages">
<span class="sig-name descname"><span class="pre">test_sign_in_multiple_stages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1522-L1655"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_sign_in_multiple_stages" title="Permalink to this definition"></a></dt>
<dd><p>Create and register a stake pool with TX signed in multiple stages.</p>
<ul class="simple">
<li><p>create stake pool registration cert</p></li>
<li><p>create witness file for each signing key</p></li>
<li><p>sign TX using witness files</p></li>
<li><p>create and register pool</p></li>
<li><p>check that the pool was correctly registered on chain</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_metadata">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L632-L708"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Create and register a stake pool with metadata.</p>
<p>Check that pool was registered and stake address delegated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_not_avail_metadata">
<span class="sig-name descname"><span class="pre">test_stake_pool_not_avail_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L710-L786"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_not_avail_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Create and register a stake pool with metadata file not available.</p>
<p>Check that pool was registered and stake address delegated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_metadata">
<span class="sig-name descname"><span class="pre">test_update_stake_pool_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1279-L1405"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Update stake pool metadata.</p>
<ul class="simple">
<li><p>register pool</p></li>
<li><p>update the pool metadata by resubmitting the pool registration certificate</p></li>
<li><p>check that the pool metadata hash was correctly updated on chain</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_parameters">
<span class="sig-name descname"><span class="pre">test_update_stake_pool_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L1407-L1520"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Update stake pool parameters.</p>
<ul class="simple">
<li><p>register pool</p></li>
<li><p>update the pool parameters by resubmitting the pool registration certificate</p></li>
<li><p>check that the pool parameters were correctly updated on chain</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.pool_cost_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">pool_cost_start_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.tmpdir.TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_pools.py#L41-L67"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.pool_cost_start_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Update <em>minPoolCost</em> to 500.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_protocol">
<span id="cardano-node-tests-tests-test-protocol-module"></span><h2>cardano_node_tests.tests.test_protocol module<a class="headerlink" href="#module-cardano_node_tests.tests.test_protocol" title="Permalink to this headline"></a></h2>
<p>Tests for protocol state and protocol parameters.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_protocol.</span></span><span class="sig-name descname"><span class="pre">TestProtocol</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_protocol.py#L60-L111"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for protocol.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_protocol.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_params">
<span class="sig-name descname"><span class="pre">test_protocol_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_protocol.py#L101-L111"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_params" title="Permalink to this definition"></a></dt>
<dd><p>Check output of <cite>query protocol-parameters</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_keys">
<span class="sig-name descname"><span class="pre">test_protocol_state_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_protocol.py#L66-L83"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_keys" title="Permalink to this definition"></a></dt>
<dd><p>Check output of <cite>query protocol-state</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_outfile">
<span class="sig-name descname"><span class="pre">test_protocol_state_outfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_protocol.py#L85-L99"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_outfile" title="Permalink to this definition"></a></dt>
<dd><p>Check output file produced by <cite>query protocol-state</cite>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_rollback">
<span id="cardano-node-tests-tests-test-rollback-module"></span><h2>cardano_node_tests.tests.test_rollback module<a class="headerlink" href="#module-cardano_node_tests.tests.test_rollback" title="Permalink to this headline"></a></h2>
<p>Tests for rollbacks.</p>
<p>In rollback tests, we split the cluster into two parts. We achieve this by changing topology
configuration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_rollback.</span></span><span class="sig-name descname"><span class="pre">TestRollback</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L33-L485"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for rollbacks.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.backup_topology">
<span class="sig-name descname"><span class="pre">backup_topology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L98-L111"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.backup_topology" title="Permalink to this definition"></a></dt>
<dd><p>Backup the original topology files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.node_query_utxo">
<span class="sig-name descname"><span class="pre">node_query_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_raw_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.UTXOData</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L135-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.node_query_utxo" title="Permalink to this definition"></a></dt>
<dd><p>Query UTxO on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.node_submit_tx">
<span class="sig-name descname"><span class="pre">node_submit_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L154-L181"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.node_submit_tx" title="Permalink to this definition"></a></dt>
<dd><p>Submit transaction on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.node_wait_for_block">
<span class="sig-name descname"><span class="pre">node_wait_for_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_no</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L183-L198"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.node_wait_for_block" title="Permalink to this definition"></a></dt>
<dd><p>Wait for block number on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L48-L77"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'Works</span> <span class="pre">only</span> <span class="pre">when</span> <span class="pre">all</span> <span class="pre">nodes</span> <span class="pre">have</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">topology</span> <span class="pre">type'}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'`NUM_POOLS`</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">4'}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">same</span> <span class="pre">cluster</span> <span class="pre">and</span> <span class="pre">Tx</span> <span class="pre">era'}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">on</span> <span class="pre">local</span> <span class="pre">cluster'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.restore_cluster">
<span class="sig-name descname"><span class="pre">restore_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backup_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L125-L133"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.restore_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Restore the original topology files == restore the cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.split_cluster">
<span class="sig-name descname"><span class="pre">split_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">split_topology_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L113-L123"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.split_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Use the split topology files == split the cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.split_topology_dir">
<span class="sig-name descname"><span class="pre">split_topology_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L79-L96"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.split_topology_dir" title="Permalink to this definition"></a></dt>
<dd><p>Return path to directory with split topology files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.test_consensus_reached">
<span class="sig-name descname"><span class="pre">test_consensus_reached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_topology_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L200-L361"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.test_consensus_reached" title="Permalink to this definition"></a></dt>
<dd><p>Test that global consensus is reached after rollback.</p>
<p>The original cluster is split into two clusters, and before <cite>securityParam</cite>
number of blocks is produced, the original cluster topology gets restored.</p>
<ul class="simple">
<li><p>Submit Tx number 1</p></li>
<li><p>Split the cluster into two separate clusters</p></li>
<li><p>Check that the Tx number 1 exists on both clusters</p></li>
<li><p>Submit a Tx number 2 on the first cluster</p></li>
<li><p>Check that the Tx number 2 exists only on the first cluster</p></li>
<li><p>Submit a Tx number 3 on the second cluster</p></li>
<li><p>Check that the Tx number 3 exists only on the second cluster</p></li>
<li><p>Restore the cluster topology</p></li>
<li><p>Check that global consensus was restored</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.test_permanent_fork">
<span class="sig-name descname"><span class="pre">test_permanent_fork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_topology_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_rollback.py#L363-L485"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.test_permanent_fork" title="Permalink to this definition"></a></dt>
<dd><p>Test that global consensus is NOT reached and the result is permanent fork.</p>
<p>The original cluster is split into two clusters, and after <cite>securityParam</cite>
number of blocks is produced, the original cluster topology gets restored.</p>
<ul class="simple">
<li><p>Submit Tx number 1</p></li>
<li><p>Split the cluster into two separate clusters</p></li>
<li><p>Submit a Tx number 2 on the first cluster</p></li>
<li><p>Submit a Tx number 3 on the second cluster</p></li>
<li><p>Wait until <cite>securityParam</cite> number of blocks is produced on both clusters</p></li>
<li><p>Restore the cluster topology</p></li>
<li><p>Check that global consensus was NOT restored</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_scripts">
<span id="cardano-node-tests-tests-test-scripts-module"></span><h2>cardano_node_tests.tests.test_scripts module<a class="headerlink" href="#module-cardano_node_tests.tests.test_scripts" title="Permalink to this headline"></a></h2>
<p>Tests for multisig transactions and scripts.</p>
<ul class="simple">
<li><p>multisig</p></li>
<li><p>time locking</p></li>
<li><p>auxiliary scripts</p></li>
<li><p>reference UTxO</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestAuxiliaryScripts</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1555-L1805"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for auxiliary scripts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1564-L1591"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Allegra+</span> <span class="pre">TX'}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_invalid">
<span class="sig-name descname"><span class="pre">test_tx_script_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1772-L1805"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_invalid" title="Permalink to this definition"></a></dt>
<dd><p>Build transaction with invalid auxiliary script.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_cbor">
<span class="sig-name descname"><span class="pre">test_tx_script_metadata_cbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1655-L1716"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_cbor" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with auxiliary script and metadata CBOR.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_json">
<span class="sig-name descname"><span class="pre">test_tx_script_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1593-L1653"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_json" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with auxiliary script and metadata JSON.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_no_metadata">
<span class="sig-name descname"><span class="pre">test_tx_script_no_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1718-L1770"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_no_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with auxiliary script and no other metadata.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestBasic</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L130-L664"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for multisig transactions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L135-L160"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_all">
<span class="sig-name descname"><span class="pre">test_multisig_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L189-L240"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_all" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to and from script address using the <em>all</em> script.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_any">
<span class="sig-name descname"><span class="pre">test_multisig_any</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L242-L329"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_any" title="Permalink to this definition"></a></dt>
<dd><p>Send funds using the <em>any</em> script.</p>
<ul class="simple">
<li><p>send funds to script address</p></li>
<li><p>send funds from script address using single witness</p></li>
<li><p>send funds from script address using multiple witnesses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_atleast">
<span class="sig-name descname"><span class="pre">test_multisig_atleast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L331-L394"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_atleast" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to and from script address using the <em>atLeast</em> script.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_empty_all">
<span class="sig-name descname"><span class="pre">test_multisig_empty_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L554-L604"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_empty_all" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from script address using the <em>all</em> script with zero skeys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_no_required_atleast">
<span class="sig-name descname"><span class="pre">test_multisig_no_required_atleast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L606-L664"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_no_required_atleast" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from script address using the <em>atLeast</em> script with no required witnesses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_from_script_addr">
<span class="sig-name descname"><span class="pre">test_normal_tx_from_script_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L464-L552"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_from_script_addr" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from script address using TX signed with skeys (not using witness files).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_to_script_addr">
<span class="sig-name descname"><span class="pre">test_normal_tx_to_script_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L396-L462"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_to_script_addr" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to script address using TX signed with skeys (not using witness files).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_script_addr_length">
<span class="sig-name descname"><span class="pre">test_script_addr_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L162-L187"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_script_addr_length" title="Permalink to this definition"></a></dt>
<dd><p>Check that script address length is the same as length of other addresses.</p>
<p>There was an issue that script address was 32 bytes instead of 28 bytes.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestCompatibility</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2824-L2955"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking compatibility with previous Tx eras.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2829-L2853"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.test_auxiliary_scripts">
<span class="sig-name descname"><span class="pre">test_auxiliary_scripts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2918-L2955"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.test_auxiliary_scripts" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is not possible to use auxiliary script in Shelley-era Tx.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.test_script_v2">
<span class="sig-name descname"><span class="pre">test_script_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2855-L2916"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.test_script_v2" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is not possible to use ‘SimpleScriptV2’ in Shelley-era Tx.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestDatum</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1995-L2112"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Simple Scripts V1 and V2 UTxOs with datum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2004-L2031"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Alonzo+</span> <span class="pre">TX'}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum.test_script_utxo_datum">
<span class="sig-name descname"><span class="pre">test_script_utxo_datum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2033-L2112"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum.test_script_utxo_datum" title="Permalink to this definition"></a></dt>
<dd><p>Test creating UTxO with datum on Simple Scripts V1 and V2 address.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestIncrementalSigning</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1808-L1992"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for incremental signing.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1813-L1840"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning.test_incremental_signing">
<span class="sig-name descname"><span class="pre">test_incremental_signing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_is</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1842-L1992"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning.test_incremental_signing" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from script address using TX that is signed incrementally.</p>
<p>Test with Tx body created by both <cite>transaction build</cite> and <cite>transaction build-raw</cite>.
Test with Tx created by both <cite>transaction sign</cite> and <cite>transaction assemble</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L667-L860"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transaction tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L672-L699"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_all_missing_skey">
<span class="sig-name descname"><span class="pre">test_multisig_all_missing_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L701-L751"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_all_missing_skey" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from script address using the <em>all</em> script, omit one skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_any_unlisted_skey">
<span class="sig-name descname"><span class="pre">test_multisig_any_unlisted_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L753-L803"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_any_unlisted_skey" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from script address using the <em>any</em> script with unlisted skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_atleast_low_num_of_skeys">
<span class="sig-name descname"><span class="pre">test_multisig_atleast_low_num_of_skeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L805-L860"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_atleast_low_num_of_skeys" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from script address using the <em>atLeast</em> script.</p>
<p>Num of skeys &lt; required. Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestNested</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2407-L2821"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for nested scripts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2416-L2443"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Allegra+</span> <span class="pre">TX'}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.test_invalid">
<span class="sig-name descname"><span class="pre">test_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2621-L2821"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.test_invalid" title="Permalink to this definition"></a></dt>
<dd><p>Test scenarios where it’s NOT possible to spend from a script address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.test_nested_optional_all">
<span class="sig-name descname"><span class="pre">test_nested_optional_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2545-L2619"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.test_nested_optional_all" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to not meet conditions in nested “all” rule.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.test_nested_script">
<span class="sig-name descname"><span class="pre">test_nested_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_nested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2445-L2543"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.test_nested_script" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to spend using a script with nested rules.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestReferenceUTxO</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2115-L2404"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Simple Scripts V1 and V2 on reference UTxOs.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2124-L2149"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Babbage+</span> <span class="pre">TX'}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_script_reference_utxo">
<span class="sig-name descname"><span class="pre">test_script_reference_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2151-L2302"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_script_reference_utxo" title="Permalink to this definition"></a></dt>
<dd><p>Send funds from script address where script is on reference UTxO.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_spend_reference_script">
<span class="sig-name descname"><span class="pre">test_spend_reference_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L2304-L2404"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_spend_reference_script" title="Permalink to this definition"></a></dt>
<dd><p>Test spending a UTxO that holds a reference script.</p>
<ul class="simple">
<li><p>create a Tx output with reference script (reference script UTxO)</p></li>
<li><p>spend the reference UTxO</p></li>
<li><p>check that the UTxO was spent</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestTimeLocking</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L863-L1552"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for time locking.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_future">
<span class="sig-name descname"><span class="pre">fund_script_after_slot_in_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L991-L1014"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_future" title="Permalink to this definition"></a></dt>
<dd><p>Create and fund script address with “after” slot in the future.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_past">
<span class="sig-name descname"><span class="pre">fund_script_after_slot_in_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1016-L1039"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_past" title="Permalink to this definition"></a></dt>
<dd><p>Create and fund script address with “after” slot in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_future">
<span class="sig-name descname"><span class="pre">fund_script_before_slot_in_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L966-L989"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_future" title="Permalink to this definition"></a></dt>
<dd><p>Create and fund script address with “before” slot in the future.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_past">
<span class="sig-name descname"><span class="pre">fund_script_before_slot_in_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L941-L964"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_past" title="Permalink to this definition"></a></dt>
<dd><p>Create and fund script address with “before” slot in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L912-L939"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Allegra+</span> <span class="pre">TX'}),</span> <span class="pre">Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_future">
<span class="sig-name descname"><span class="pre">test_after_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_after_slot_in_future</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1436-L1501"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_future" title="Permalink to this definition"></a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “after” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_past">
<span class="sig-name descname"><span class="pre">test_after_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_after_slot_in_past</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1503-L1552"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_past" title="Permalink to this definition"></a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “after” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_future">
<span class="sig-name descname"><span class="pre">test_before_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_before_slot_in_future</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1388-L1434"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_future" title="Permalink to this definition"></a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “before” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_past">
<span class="sig-name descname"><span class="pre">test_before_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_before_slot_in_past</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1321-L1386"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_past" title="Permalink to this definition"></a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “before” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_after">
<span class="sig-name descname"><span class="pre">test_script_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tx_validity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1041-L1110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_after" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to spend from script address after given slot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_before">
<span class="sig-name descname"><span class="pre">test_script_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tx_validity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1112-L1179"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_before" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is possible to spend from script address before given slot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_missing_validity">
<span class="sig-name descname"><span class="pre">test_tx_missing_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slot_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1181-L1247"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_missing_validity" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is NOT possible to spend from script address.</p>
<p>The transaction validity interval is not specified.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_negative_validity">
<span class="sig-name descname"><span class="pre">test_tx_negative_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L1249-L1319"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_negative_validity" title="Permalink to this definition"></a></dt>
<dd><p>Check that it is NOT possible to spend from script address when validity is negative.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.multisig_tx">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">multisig_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_skey_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multisig_script</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_hereafter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_scripts.py#L43-L127"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.multisig_tx" title="Permalink to this definition"></a></dt>
<dd><p>Build and submit multisig transaction.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_staking_no_rewards">
<span id="cardano-node-tests-tests-test-staking-no-rewards-module"></span><h2>cardano_node_tests.tests.test_staking_no_rewards module<a class="headerlink" href="#module-cardano_node_tests.tests.test_staking_no_rewards" title="Permalink to this headline"></a></h2>
<p>Tests for checking staking scenarios where no rewards are expected.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_no_rewards.</span></span><span class="sig-name descname"><span class="pre">TestNoRewards</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py#L22-L1009"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(6,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_deregister_reward_addr_retire_pool">
<span class="sig-name descname"><span class="pre">test_deregister_reward_addr_retire_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py#L735-L1009"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_deregister_reward_addr_retire_pool" title="Permalink to this definition"></a></dt>
<dd><p>Test deregistering reward address and retiring stake pool.</p>
<p>The pool deposit is lost when reward address is deregistered before the pool is retired.</p>
<ul class="simple">
<li><p>wait for first reward for the pool</p></li>
<li><p>withdraw pool rewards to payment address</p></li>
<li><p>deregister the pool reward address</p></li>
<li><p>check that the key deposit was returned</p></li>
<li><p>check that pool owner is NOT receiving rewards</p></li>
<li><p>deregister stake pool</p></li>
<li><p>check that the pool deposit was NOT returned to reward or stake address</p></li>
<li><p>return the pool to the original state - reregister the pool, register
the reward address, delegate the stake address to the pool</p></li>
<li><p>check that pool deposit was needed</p></li>
<li><p>check that pool owner is receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_reward_addr">
<span class="sig-name descname"><span class="pre">test_no_reward_deregistered_reward_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py#L546-L733"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_reward_addr" title="Permalink to this definition"></a></dt>
<dd><p>Check that the reward address is not receiving rewards when deregistered.</p>
<p>The stake pool continues to operate normally and those who delegate to that pool receive
rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>withdraw pool rewards to payment address</p></li>
<li><p>deregister the pool reward address</p></li>
<li><p>check that the key deposit was returned</p></li>
<li><p>check that pool owner is NOT receiving rewards</p></li>
<li><p>check that new rewards are received by those delegating to the pool</p></li>
<li><p>return the pool to the original state - reregister reward address</p></li>
<li><p>check that pool owner is receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_stake_addr">
<span class="sig-name descname"><span class="pre">test_no_reward_deregistered_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py#L349-L544"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_stake_addr" title="Permalink to this definition"></a></dt>
<dd><p>Check that the pool is not receiving rewards when owner’s stake address is deregistered.</p>
<p>When the owner’s stake address is deregistered (i.e. owner’s stake is lower than pledge),
neither pool owners nor those who delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>deregister stake address - owner’s stake is lower than pledge</p></li>
<li><p>check that the key deposit was returned</p></li>
<li><p>check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also NOT receiving rewards</p></li>
<li><p>return the pool to the original state - reregister stake address and
delegate it to the pool</p></li>
<li><p>check that new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge1">
<span class="sig-name descname"><span class="pre">test_no_reward_unmet_pledge1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py#L25-L180"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge1" title="Permalink to this definition"></a></dt>
<dd><p>Check that the stake pool is not receiving rewards when pledge is not met.</p>
<p>When the pledge is higher than available funds, neither pool owners nor those who
delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>increase the needed pledge amount - update the pool parameters by resubmitting the pool
registration certificate - the funds are now lower than what is needed by the stake pool</p></li>
<li><p>check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also NOT receiving rewards</p></li>
<li><p>return the pool to the original state - restore pledge settings</p></li>
<li><p>check that new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge2">
<span class="sig-name descname"><span class="pre">test_no_reward_unmet_pledge2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_no_rewards.py#L182-L347"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge2" title="Permalink to this definition"></a></dt>
<dd><p>Check that the stake pool is not receiving rewards when pledge is not met.</p>
<p>When the pledge is higher than available funds, neither pool owners nor those who
delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>withdraw part of the pledge - the funds are lower than what is needed by the stake pool</p></li>
<li><p>check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also NOT receiving rewards</p></li>
<li><p>return the pool to the original state - restore pledge funds</p></li>
<li><p>check that new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_staking_rewards">
<span id="cardano-node-tests-tests-test-staking-rewards-module"></span><h2>cardano_node_tests.tests.test_staking_rewards module<a class="headerlink" href="#module-cardano_node_tests.tests.test_staking_rewards" title="Permalink to this headline"></a></h2>
<p>Tests for staking, rewards, blocks production on real block-producing pools.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">RewardRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epoch_no</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_per_epoch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">member_pool_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leader_pool_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_total</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L30-L36"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.epoch_no">
<span class="sig-name descname"><span class="pre">epoch_no</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.epoch_no" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.leader_pool_ids">
<span class="sig-name descname"><span class="pre">leader_pool_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.leader_pool_ids" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.member_pool_id">
<span class="sig-name descname"><span class="pre">member_pool_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.member_pool_id" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_per_epoch">
<span class="sig-name descname"><span class="pre">reward_per_epoch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_per_epoch" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_total">
<span class="sig-name descname"><span class="pre">reward_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_total" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.stake_total">
<span class="sig-name descname"><span class="pre">stake_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.stake_total" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">TestNegativeWithdrawal</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L1779-L1845"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for rewards withdrawal that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L1782-L1797"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.pool_users" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.test_withdrawal_wrong_amount">
<span class="sig-name descname"><span class="pre">test_withdrawal_wrong_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L1799-L1845"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.test_withdrawal_wrong_amount" title="Permalink to this definition"></a></dt>
<dd><p>Test that it is not possible to withdraw other amount than the total reward amount.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">TestRewards</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L261-L1776"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking expected rewards.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(6,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_2_pools_same_reward_addr">
<span class="sig-name descname"><span class="pre">test_2_pools_same_reward_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_two_pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L1190-L1443"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_2_pools_same_reward_addr" title="Permalink to this definition"></a></dt>
<dd><p>Check that one reward address used for two pools receives rewards for both of them.</p>
<ul>
<li><p>set pool2 reward address to the reward address of pool1 by resubmitting the pool
registration certificate</p></li>
<li><p>collect data for both pool1 and pool2 for several epochs and with the help of db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>check that the original reward address for pool2 is NOT receiving rewards</p></li>
<li><p>check that the reward address for pool1 is now receiving rewards for both pools</p></li>
</ul>
</div></blockquote>
</li>
<li><p>check records in db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>transaction inputs, outputs, withdrawals, etc.</p></li>
<li><p>reward amounts received each epoch</p></li>
<li><p>expected pool ids</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_decreasing_reward_transferred_funds">
<span class="sig-name descname"><span class="pre">test_decreasing_reward_transferred_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L1073-L1188"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_decreasing_reward_transferred_funds" title="Permalink to this definition"></a></dt>
<dd><p>Check that rewards are gradually decreasing when funds are being transferred.</p>
<p>Even though nothing is staked and rewards are being transferred from reward address, there
are still some funds staked on the reward address at the time ledger snapshot is taken. For
that reason the reward amount received every epoch is gradually decreasing over the period
of several epochs until it is finally 0.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>transfer all funds from payment address back to faucet, so no funds are staked</p></li>
<li><p>keep withdrawing new rewards so reward balance is 0</p></li>
<li><p>check that reward amount is decreasing epoch after epoch</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_redelegation">
<span class="sig-name descname"><span class="pre">test_redelegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_two_pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L1445-L1776"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_redelegation" title="Permalink to this definition"></a></dt>
<dd><p>Check rewards received by stake address over multiple epochs.</p>
<p>The address is re-delegated and deregistred / re-registered multiple times.</p>
<ul>
<li><p>delegate stake address to pool</p></li>
<li><p>in next epoch, re-delegate to another pool</p></li>
<li><p>in next epoch, deregister stake address, immediately re-register and delegate to pool</p></li>
<li><p>in next epoch, deregister stake address, wait for second half of an epoch, re-register
and delegate to pool</p></li>
<li><p>while doing the steps above, collect data for pool user for 8 epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>each epoch check received reward with reward in ledger state</p></li>
</ul>
</div></blockquote>
</li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_addr_delegation">
<span class="sig-name descname"><span class="pre">test_reward_addr_delegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool_and_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L666-L1071"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_addr_delegation" title="Permalink to this definition"></a></dt>
<dd><p>Check that the rewards address can be delegated and receive rewards.</p>
<p>Tests <a class="reference external" href="https://github.com/input-output-hk/cardano-node/issues/1964">https://github.com/input-output-hk/cardano-node/issues/1964</a></p>
<p>The pool has a reward address that is different from pool owner’s stake address.</p>
<ul>
<li><p>delegate reward address to the pool</p></li>
<li><p>collect reward address data for 8 epochs and</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>each epoch check received reward with reward in ledger state</p></li>
<li><p>check that reward address receives rewards for its staked amount +
the pool owner’s pledge (and pool cost)</p></li>
<li><p>send TXs with MIR certs that transfer funds from reserves and treasury
to pool reward address and check the reward was received as expected</p></li>
</ul>
</div></blockquote>
</li>
<li><p>check records in db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>transaction inputs, outputs, withdrawals, etc.</p></li>
<li><p>reward amounts received each epoch</p></li>
<li><p>expected pool id</p></li>
<li><p>expected reward types</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_amount">
<span class="sig-name descname"><span class="pre">test_reward_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L341-L664"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_amount" title="Permalink to this definition"></a></dt>
<dd><p>Check that the stake address and pool owner are receiving rewards.</p>
<ul>
<li><p>create two payment addresses that share single stake address</p></li>
<li><p>register and delegate the stake address to pool</p></li>
<li><p>create UTxOs with native tokens</p></li>
<li><p>collect data for pool owner and pool users for 9 epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>each epoch check received reward with reward in ledger state</p></li>
</ul>
</div></blockquote>
</li>
<li><p>withdraw rewards to payment address</p></li>
<li><p>burn native tokens</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_simple">
<span class="sig-name descname"><span class="pre">test_reward_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L266-L339"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_simple" title="Permalink to this definition"></a></dt>
<dd><p>Check that the stake address and pool owner are receiving rewards.</p>
<ul class="simple">
<li><p>delegate to pool</p></li>
<li><p>wait for rewards for pool owner and pool users for up to 4 epochs</p></li>
<li><p>withdraw rewards to payment address</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L39-L43"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_and_pool" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_lock_pool_and_pots">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pool_and_pots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L76-L90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_lock_pool_and_pots" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_lock_two_pools">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_two_pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L60-L73"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_lock_two_pools" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_use_two_pools">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_use_two_pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_staking_rewards.py#L46-L57"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_use_two_pools" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_basic">
<span id="cardano-node-tests-tests-test-tx-basic-module"></span><h2>cardano_node_tests.tests.test_tx_basic module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_basic" title="Permalink to this headline"></a></h2>
<p>Tests for basic transactions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_basic.</span></span><span class="sig-name descname"><span class="pre">TestBasicTransactions</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L43-L1073"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test basic transactions - transferring funds, transaction IDs.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.byron_addrs">
<span class="sig-name descname"><span class="pre">byron_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L74-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.byron_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new Byron payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.cluster_default_tx_era">
<span class="sig-name descname"><span class="pre">cluster_default_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L147-L165"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.cluster_default_tx_era" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L48-L72"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_disposable">
<span class="sig-name descname"><span class="pre">payment_addrs_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L102-L123"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_disposable" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_no_change">
<span class="sig-name descname"><span class="pre">payment_addrs_no_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L125-L145"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_no_change" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new payment addresses for <cite>test_build_no_change</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_multiple_same_txins">
<span class="sig-name descname"><span class="pre">test_build_multiple_same_txins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L871-L912"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_multiple_same_txins" title="Permalink to this definition"></a></dt>
<dd><p>Build a transaction with multiple identical txins.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_no_change">
<span class="sig-name descname"><span class="pre">test_build_no_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_no_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L325-L393"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_no_change" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to payment address and balance the outputs so that there is no change.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Tests bug <a class="reference external" href="https://github.com/input-output-hk/cardano-node/issues/3041">https://github.com/input-output-hk/cardano-node/issues/3041</a></p>
<ul class="simple">
<li><p>try to build a Tx that sends all available funds, and extract fee amount
from the error message</p></li>
<li><p>send all available funds minus fee from source address to destination address</p></li>
<li><p>check that no change UTxO was created</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_transfer_funds">
<span class="sig-name descname"><span class="pre">test_build_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byron_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_addr_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_addr_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L223-L282"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_transfer_funds" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to payment address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_byron_fee_too_small">
<span class="sig-name descname"><span class="pre">test_byron_fee_too_small</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byron_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L284-L323"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_byron_fee_too_small" title="Permalink to this definition"></a></dt>
<dd><p>Test cardano-node issue #4752.</p>
<p>Use <cite>cardano-cli transaction build</cite> command for building a transaction that needs to be
signed by Byron skey. Check if calculated fee is too small and if Tx submit fails.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_default_tx_era">
<span class="sig-name descname"><span class="pre">test_default_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_default_tx_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.fixtures.FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1018-L1073"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_default_tx_era" title="Permalink to this definition"></a></dt>
<dd><p>Test default Tx era.</p>
<ul class="simple">
<li><p>check that default Tx era is implicit</p></li>
<li><p>check that default Tx era can be specified explicitly</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_duplicate_signing_keys">
<span class="sig-name descname"><span class="pre">test_duplicate_signing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L596-L633"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_duplicate_signing_keys" title="Permalink to this definition"></a></dt>
<dd><p>Send a transaction with duplicate signing key.</p>
<p>Check that it is possible to specify the same signing key twice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_extra_signing_keys">
<span class="sig-name descname"><span class="pre">test_extra_signing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L556-L594"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_extra_signing_keys" title="Permalink to this definition"></a></dt>
<dd><p>Send a transaction with extra signing key.</p>
<p>Check that it is possible to use unneeded signing key in addition to the necessary
signing keys for signing the transaction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_far_future_ttl">
<span class="sig-name descname"><span class="pre">test_far_future_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L974-L1016"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_far_future_ttl" title="Permalink to this definition"></a></dt>
<dd><p>Send a transaction with ttl far in the future.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_funds_to_valid_address">
<span class="sig-name descname"><span class="pre">test_funds_to_valid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L462-L509"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_funds_to_valid_address" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to a valid payment address.</p>
<p>The destination address is a valid address that was generated sometime
in the past. The test verifies it is possible to use a valid address
even though it was not generated while running a specific cardano
network.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
<li><p>check min UTxO value</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_get_txid">
<span class="sig-name descname"><span class="pre">test_get_txid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L511-L554"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_get_txid" title="Permalink to this definition"></a></dt>
<dd><p>Get transaction ID (txid) from transaction body.</p>
<p>Transaction ID is a hash of transaction body and doesn’t change for a signed TX.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>get txid from transaction body</p></li>
<li><p>get txid from signed transaction</p></li>
<li><p>check that txid from transaction body matches the txid from signed transaction</p></li>
<li><p>check that txid has expected length</p></li>
<li><p>check that the txid is listed in UTxO hashes for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_ttl">
<span class="sig-name descname"><span class="pre">test_missing_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L762-L815"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_ttl" title="Permalink to this definition"></a></dt>
<dd><p>Submit a transaction with a missing <cite>–ttl</cite> (<cite>–invalid-hereafter</cite>) parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_tx_out">
<span class="sig-name descname"><span class="pre">test_missing_tx_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L729-L760"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_tx_out" title="Permalink to this definition"></a></dt>
<dd><p>Build a transaction with a missing <cite>–tx-out</cite> parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_multiple_same_txins">
<span class="sig-name descname"><span class="pre">test_multiple_same_txins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L817-L869"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_multiple_same_txins" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with multiple identical txins.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_no_txout">
<span class="sig-name descname"><span class="pre">test_no_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L694-L727"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_no_txout" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with just fee, no UTxO is produced.</p>
<ul class="simple">
<li><p>submit a transaction where all funds available on source address is used for fee</p></li>
<li><p>check that no UTxOs are created by the transaction</p></li>
<li><p>check that there are no funds left on source address</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_sign_wrong_file">
<span class="sig-name descname"><span class="pre">test_sign_wrong_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L635-L692"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_sign_wrong_file" title="Permalink to this definition"></a></dt>
<dd><p>Sign other file type than the one specified by command line option (Tx vs Tx body).</p>
<ul class="simple">
<li><p>specify Tx file and pass Tx body file</p></li>
<li><p>specify Tx body file and pass Tx file</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_all_funds">
<span class="sig-name descname"><span class="pre">test_transfer_all_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L395-L460"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_all_funds" title="Permalink to this definition"></a></dt>
<dd><p>Send ALL funds from one payment address to another.</p>
<ul class="simple">
<li><p>send all available funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balance for destination addresses</p></li>
<li><p>check that balance for source address is 0 Lovelace</p></li>
<li><p>check output of the <cite>transaction view</cite> command</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_funds">
<span class="sig-name descname"><span class="pre">test_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byron_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_addr_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_addr_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L167-L221"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_funds" title="Permalink to this definition"></a></dt>
<dd><p>Send funds to payment address.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_utxo_with_datum_hash">
<span class="sig-name descname"><span class="pre">test_utxo_with_datum_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L914-L972"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_utxo_with_datum_hash" title="Permalink to this definition"></a></dt>
<dd><p>Create a UTxO with datum hash in a regular address and spend it.</p>
<ul class="simple">
<li><p>create a UTxO with a datum hash at the payment address</p></li>
<li><p>check that the UTxO was created with the respective datum hash</p></li>
<li><p>spend the UTxO (not providing the datum hash)</p></li>
<li><p>check that the UTxO was spent</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_basic.</span></span><span class="sig-name descname"><span class="pre">TestIncrementalSigning</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1377-L1536"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test incremental signing of transactions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1382-L1409"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.test_incremental_signing">
<span class="sig-name descname"><span class="pre">test_incremental_signing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_is</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1411-L1536"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.test_incremental_signing" title="Permalink to this definition"></a></dt>
<dd><p>Test sending funds using Tx that is signed incrementally.</p>
<p>Test with Tx body created by both <cite>transaction build</cite> and <cite>transaction build-raw</cite>.
Test with Tx created by both <cite>transaction sign</cite> and <cite>transaction assemble</cite>.</p>
<ul class="simple">
<li><p>create a transaction</p></li>
<li><p>sign the transaction incrementally with part of the signing keys</p></li>
<li><p>sign the transaction incrementally with the rest of the signing keys, except of
the required one</p></li>
<li><p>sign the transaction multiple times with the same skey to see that it doesn’t affect
the Tx fee</p></li>
<li><p>check that the transaction cannot be submitted</p></li>
<li><p>sign the transaction with the required signing key</p></li>
<li><p>check that the transaction can be submitted</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_basic.</span></span><span class="sig-name descname"><span class="pre">TestMultiInOut</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1076-L1374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test transactions with multiple txins and/or txouts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1081-L1109"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create 201 new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_10_transactions">
<span class="sig-name descname"><span class="pre">test_10_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1219-L1270"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_10_transactions" title="Permalink to this definition"></a></dt>
<dd><p>Send 10 transactions to payment address.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address in 10 separate transactions</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_100_addrs_from_50_addrs">
<span class="sig-name descname"><span class="pre">test_transaction_to_100_addrs_from_50_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1350-L1374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_100_addrs_from_50_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Test 1 transaction from 50 payment addresses to 100 payment addresses.</p>
<ul class="simple">
<li><p>send funds from 50 source addresses to 100 destination addresses</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_10_addrs">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_10_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1324-L1348"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_10_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Test 1 transaction from 10 payment addresses to 10 payment addresses.</p>
<ul class="simple">
<li><p>send funds from 10 source addresses to 10 destination addresses</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_1_addr">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_1_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1272-L1296"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_1_addr" title="Permalink to this definition"></a></dt>
<dd><p>Test 1 transaction from 1 payment address to 10 payment addresses.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 10 destination addresses</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_1_addr_from_10_addrs">
<span class="sig-name descname"><span class="pre">test_transaction_to_1_addr_from_10_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_basic.py#L1298-L1322"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_1_addr_from_10_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Test 1 transaction from 10 payment addresses to 1 payment address.</p>
<ul class="simple">
<li><p>send funds from 10 source addresses to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_fees">
<span id="cardano-node-tests-tests-test-tx-fees-module"></span><h2>cardano_node_tests.tests.test_tx_fees module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_fees" title="Permalink to this headline"></a></h2>
<p>Tests for fees of various kinds of transactions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_fees.</span></span><span class="sig-name descname"><span class="pre">TestExpectedFees</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L173-L597"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test expected fees.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L177-L202"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.pool_users" title="Permalink to this definition"></a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_deregistration_fees">
<span class="sig-name descname"><span class="pre">test_addr_deregistration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L450-L486"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_deregistration_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test stake address deregistration fees.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_registration_fees">
<span class="sig-name descname"><span class="pre">test_addr_registration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L412-L448"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_registration_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test stake address registration fees.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_deregistration_fees">
<span class="sig-name descname"><span class="pre">test_pool_deregistration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L348-L410"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_deregistration_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test pool deregistration fees.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_registration_fees">
<span class="sig-name descname"><span class="pre">test_pool_registration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L296-L346"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_registration_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test pool registration fees.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_100_addrs_from_100_addrs_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_100_addrs_from_100_addrs_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L576-L597"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_100_addrs_from_100_addrs_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test fees for 1 tx from 100 payment addresses to 100 payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_10_addrs_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_10_addrs_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L554-L574"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_10_addrs_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test fees for 1 tx from 10 payment addresses to 10 payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_1_addr_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_1_addr_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L510-L530"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_1_addr_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test fees for 1 tx from 1 payment address to 10 payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_10_addrs_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_1_addr_from_10_addrs_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L532-L552"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_10_addrs_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test fees for 1 tx from 10 payment addresses to 1 payment address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_1_addr_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_1_addr_from_1_addr_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L488-L508"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_1_addr_fees" title="Permalink to this definition"></a></dt>
<dd><p>Test fees for 1 tx from 1 payment address to 1 payment address.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_fees.</span></span><span class="sig-name descname"><span class="pre">TestFee</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L21-L170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General fees tests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L26-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.test_expected_or_higher_fee">
<span class="sig-name descname"><span class="pre">test_expected_or_higher_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fee_add</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L126-L170"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.test_expected_or_higher_fee" title="Permalink to this definition"></a></dt>
<dd><p>Send a transaction with fee that is same or higher than expected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.test_negative_fee">
<span class="sig-name descname"><span class="pre">test_negative_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L53-L82"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.test_negative_fee" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with negative fee (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.test_smaller_fee">
<span class="sig-name descname"><span class="pre">test_smaller_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fee_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_fees.py#L84-L124"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.test_smaller_fee" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with smaller-than-expected fee.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_many_utxos">
<span id="cardano-node-tests-tests-test-tx-many-utxos-module"></span><h2>cardano_node_tests.tests.test_tx_many_utxos module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_many_utxos" title="Permalink to this headline"></a></h2>
<p>Tests for transactions with many UTxOs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_many_utxos.</span></span><span class="sig-name descname"><span class="pre">TestManyUTXOs</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_many_utxos.py#L24-L258"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test transaction with many UTxOs and small amounts of Lovelace.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_many_utxos.py#L34-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.cluster" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.many_utxos">
<span class="sig-name descname"><span class="pre">many_utxos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_many_utxos.py#L94-L166"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.many_utxos" title="Permalink to this definition"></a></dt>
<dd><p>Generate many UTxOs (100000+) with 1-2 ADA.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_many_utxos.py#L42-L67"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='xdist_group',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={'name':</span> <span class="pre">'many_utxos'}),</span> <span class="pre">Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(5,),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'expensive</span> <span class="pre">test,</span> <span class="pre">skip</span> <span class="pre">when</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">is</span> <span class="pre">different</span> <span class="pre">from</span> <span class="pre">TX</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_many_utxos.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.test_mini_transactions">
<span class="sig-name descname"><span class="pre">test_mini_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">many_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_many_utxos.py#L168-L258"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.test_mini_transactions" title="Permalink to this definition"></a></dt>
<dd><p>Test transaction with many UTxOs (300+) with small amounts of ADA (1-10).</p>
<ul class="simple">
<li><p>use source address with many UTxOs (100000+)</p></li>
<li><p>use destination address with many UTxOs (100000+)</p></li>
<li><p>sent transaction with many UTxOs (300+) with tiny amounts of Lovelace from source address
to destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_mempool">
<span id="cardano-node-tests-tests-test-tx-mempool-module"></span><h2>cardano_node_tests.tests.test_tx_mempool module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_mempool" title="Permalink to this headline"></a></h2>
<p>Tests for transactions in mempool.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_mempool.</span></span><span class="sig-name descname"><span class="pre">TestMempool</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_mempool.py#L17-L140"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transactions in mempool.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool.payment_addrs_locked">
<span class="sig-name descname"><span class="pre">payment_addrs_locked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_mempool.py#L21-L42"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool.payment_addrs_locked" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new payment addresses for ‘test_query_mempool_txin’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_mempool.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool.test_query_mempool_txin">
<span class="sig-name descname"><span class="pre">test_query_mempool_txin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_locked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_mempool.py#L44-L140"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool.test_query_mempool_txin" title="Permalink to this definition"></a></dt>
<dd><p>Test that is possible to query txin of a transaction that is still in mempool.</p>
<ul class="simple">
<li><p>check if ‘query tx-mempool next-tx’ is returning a TxId</p></li>
<li><p>check if ‘query tx-mempool exists &lt;TxId&gt;’ found the expected TxId</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_metadata">
<span id="cardano-node-tests-tests-test-tx-metadata-module"></span><h2>cardano_node_tests.tests.test_tx_metadata module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_metadata" title="Permalink to this headline"></a></h2>
<p>Tests for transactions with metadata.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_metadata.</span></span><span class="sig-name descname"><span class="pre">TestMetadata</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L22-L602"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transactions with metadata.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.CBOR_METADATA_FILE">
<span class="sig-name descname"><span class="pre">CBOR_METADATA_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.cbor')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.CBOR_METADATA_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.json')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_INVALID_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_INVALID_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_invalid.json')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_INVALID_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_LONG_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_LONG_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_long.json')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_LONG_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_WRONG_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_WRONG_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_wrong.json')</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_WRONG_FILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.METADATA_DUPLICATES">
<span class="sig-name descname"><span class="pre">METADATA_DUPLICATES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tx_metadata_duplicate_keys*.json'</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.METADATA_DUPLICATES" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.payment_addr">
<span class="sig-name descname"><span class="pre">payment_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L34-L58"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.payment_addr" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_invalid_json_metadata">
<span class="sig-name descname"><span class="pre">test_build_tx_invalid_json_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L135-L161"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_invalid_json_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with invalid metadata JSON.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>The metadata file is an invalid JSON.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_both">
<span class="sig-name descname"><span class="pre">test_build_tx_metadata_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L441-L500"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_both" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with both metadata JSON and CBOR.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_cbor">
<span class="sig-name descname"><span class="pre">test_build_tx_metadata_cbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L342-L390"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_cbor" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with metadata CBOR.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_json">
<span class="sig-name descname"><span class="pre">test_build_tx_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L254-L303"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_json" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with metadata JSON.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>check that the metadata in TX body matches the original metadata</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_too_long_metadata_json">
<span class="sig-name descname"><span class="pre">test_build_tx_too_long_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L186-L212"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_too_long_metadata_json" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with metadata JSON longer than 64 bytes.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_wrong_json_metadata_format">
<span class="sig-name descname"><span class="pre">test_build_tx_wrong_json_metadata_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L84-L109"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_wrong_json_metadata_format" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with wrong format of metadata JSON.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>The metadata file is a valid JSON, but not in a format that is expected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_duplicate_metadata_keys">
<span class="sig-name descname"><span class="pre">test_tx_duplicate_metadata_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L502-L547"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_duplicate_metadata_keys" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with multiple metadata JSON files and with duplicate keys.</p>
<ul class="simple">
<li><p>check that the metadata in TX body matches the original metadata</p></li>
<li><p>check that in case of duplicate keys the first occurrence is used</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_invalid_json_metadata">
<span class="sig-name descname"><span class="pre">test_tx_invalid_json_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L111-L133"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_invalid_json_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with invalid metadata JSON.</p>
<p>The metadata file is an invalid JSON.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_both">
<span class="sig-name descname"><span class="pre">test_tx_metadata_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L392-L439"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_both" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with both metadata JSON and CBOR.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_cbor">
<span class="sig-name descname"><span class="pre">test_tx_metadata_cbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L305-L340"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_cbor" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with metadata CBOR.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_json">
<span class="sig-name descname"><span class="pre">test_tx_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L214-L252"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_json" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with metadata JSON.</p>
<ul class="simple">
<li><p>check that the metadata in TX body matches the original metadata</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_no_txout">
<span class="sig-name descname"><span class="pre">test_tx_metadata_no_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L549-L602"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_no_txout" title="Permalink to this definition"></a></dt>
<dd><p>Send transaction with just metadata, no UTxO is produced.</p>
<ul class="simple">
<li><p>submit a transaction where all funds available on source address is used for fee</p></li>
<li><p>check that no UTxOs are created by the transaction</p></li>
<li><p>check that there are no funds left on source address</p></li>
<li><p>check that the metadata in TX body matches the original metadata</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_too_long_metadata_json">
<span class="sig-name descname"><span class="pre">test_tx_too_long_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L163-L184"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_too_long_metadata_json" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with metadata JSON longer than 64 bytes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_wrong_json_metadata_format">
<span class="sig-name descname"><span class="pre">test_tx_wrong_json_metadata_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_metadata.py#L60-L82"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_wrong_json_metadata_format" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with wrong format of metadata JSON.</p>
<p>The metadata file is a valid JSON, but not in a format that is expected.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_negative">
<span id="cardano-node-tests-tests-test-tx-negative-module"></span><h2>cardano_node_tests.tests.test_tx_negative module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_negative" title="Permalink to this headline"></a></h2>
<p>Negative tests for transactions.</p>
<p>Tests like duplicated transaction, sending funds to wrong addresses, wrong fee, wrong ttl.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_negative.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L37-L1609"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transaction tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.cluster_wrong_tx_era">
<span class="sig-name descname"><span class="pre">cluster_wrong_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_last_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_unknown_last_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L59-L72"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.cluster_wrong_tx_era" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L74-L99"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.pool_users" title="Permalink to this definition"></a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.skip_on_last_era">
<span class="sig-name descname"><span class="pre">skip_on_last_era</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L44-L49"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.skip_on_last_era" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.skip_unknown_last_era">
<span class="sig-name descname"><span class="pre">skip_unknown_last_era</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L51-L57"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.skip_unknown_last_era" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_negative_overflow">
<span class="sig-name descname"><span class="pre">test_before_negative_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L329-L377"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_negative_overflow" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with negative <cite>invalid_before</cite> and check for int overflow.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_positive_overflow">
<span class="sig-name descname"><span class="pre">test_before_positive_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L379-L428"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_positive_overflow" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with <cite>invalid_before</cite> &gt; <cite>MAX_UINT64</cite>.</p>
<p>Check for int overflow. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_too_high">
<span class="sig-name descname"><span class="pre">test_before_too_high</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L430-L460"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_too_high" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with <cite>invalid_before</cite> &gt; <cite>MAX_INT64</cite>.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_invalid_length_utxo_hash">
<span class="sig-name descname"><span class="pre">test_build_invalid_length_utxo_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1275-L1306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_invalid_length_utxo_hash" title="Permalink to this definition"></a></dt>
<dd><p>Try to use invalid UTxO hash as an input (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_change_address">
<span class="sig-name descname"><span class="pre">test_build_missing_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1523-L1563"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_change_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with a missing <cite>–change-address</cite> parameter.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_tx_in">
<span class="sig-name descname"><span class="pre">test_build_missing_tx_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1480-L1521"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_tx_in" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with a missing <cite>–tx-in</cite> parameter.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_multiple_change_addresses">
<span class="sig-name descname"><span class="pre">test_build_multiple_change_addresses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1565-L1609"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_multiple_change_addresses" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with multiple <cite>–change-address</cite> parameters.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_from_invalid_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_from_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L988-L1013"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_from_invalid_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from non-existent address (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_from_invalid_chars_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_from_invalid_chars_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1084-L1111"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_from_invalid_chars_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from address with invalid characters (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_from_invalid_length_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_from_invalid_length_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1035-L1060"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_from_invalid_length_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from address with invalid length (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_change_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_invalid_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1113-L1134"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_change_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds using invalid change address (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_chars_change_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_invalid_chars_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1136-L1159"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_chars_change_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds using change address with invalid characters (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_length_change_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_invalid_length_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1161-L1182"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_length_change_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds using change address with invalid length (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_to_invalid_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_to_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L843-L868"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_to_invalid_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to non-existent address (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_to_invalid_chars_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_to_invalid_chars_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L939-L966"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_to_invalid_chars_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to address with invalid characters.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_to_invalid_length_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_to_invalid_length_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L890-L915"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_to_invalid_length_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to address with invalid length.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_duplicated_tx">
<span class="sig-name descname"><span class="pre">test_duplicated_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L596-L650"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_duplicated_tx" title="Permalink to this definition"></a></dt>
<dd><p>Try to send an identical transaction twice.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_invalid_length_utxo_hash">
<span class="sig-name descname"><span class="pre">test_invalid_length_utxo_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1249-L1273"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_invalid_length_utxo_hash" title="Permalink to this definition"></a></dt>
<dd><p>Try to use invalid UTxO hash as an input (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_lower_bound_not_supported">
<span class="sig-name descname"><span class="pre">test_lower_bound_not_supported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1441-L1478"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_lower_bound_not_supported" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a Shelley era TX with an <cite>–invalid-before</cite> argument.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_fee">
<span class="sig-name descname"><span class="pre">test_missing_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1308-L1351"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_fee" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with a missing <cite>–fee</cite> parameter.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_ttl">
<span class="sig-name descname"><span class="pre">test_missing_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1353-L1401"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_ttl" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a Shelley era TX with a missing <cite>–ttl</cite> (<cite>–invalid-hereafter</cite>) parameter.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_tx_in">
<span class="sig-name descname"><span class="pre">test_missing_tx_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1403-L1439"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_tx_in" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with a missing <cite>–tx-in</cite> parameter.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_hash">
<span class="sig-name descname"><span class="pre">test_nonexistent_utxo_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1216-L1247"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_hash" title="Permalink to this definition"></a></dt>
<dd><p>Try to use nonexistent UTxO hash as an input.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_ix">
<span class="sig-name descname"><span class="pre">test_nonexistent_utxo_ix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1184-L1214"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_ix" title="Permalink to this definition"></a></dt>
<dd><p>Try to use nonexistent UTxO TxIx as an input.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_past_ttl">
<span class="sig-name descname"><span class="pre">test_past_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L308-L327"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_past_ttl" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with ttl in the past.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_negative_overflow">
<span class="sig-name descname"><span class="pre">test_pbt_before_negative_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L462-L506"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_negative_overflow" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with negative <cite>invalid_before</cite> and check for int overflow.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_positive_overflow">
<span class="sig-name descname"><span class="pre">test_pbt_before_positive_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L508-L555"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_positive_overflow" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with <cite>invalid_before</cite> &gt; <cite>MAX_UINT64</cite>.</p>
<p>Check for int overflow. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_too_high">
<span class="sig-name descname"><span class="pre">test_pbt_before_too_high</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L557-L594"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_too_high" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction with <cite>invalid_before</cite> &gt; <cite>MAX_INT64</cite>.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_address">
<span class="sig-name descname"><span class="pre">test_send_funds_from_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L968-L986"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from invalid address (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_chars_address">
<span class="sig-name descname"><span class="pre">test_send_funds_from_invalid_chars_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1062-L1082"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_chars_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from address with invalid characters (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_length_address">
<span class="sig-name descname"><span class="pre">test_send_funds_from_invalid_length_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L1015-L1033"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_length_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from address with invalid length (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L823-L841"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to non-existent address (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_chars_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_invalid_chars_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L917-L937"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_chars_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to address with invalid characters.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_length_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_invalid_length_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L870-L888"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_length_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to address with invalid length.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_reward_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_reward_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L776-L797"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_reward_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to stake address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_utxo_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_utxo_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_build_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L799-L821"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_utxo_address" title="Permalink to this definition"></a></dt>
<dd><p>Try to send funds from payment address to UTxO address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_network_magic">
<span class="sig-name descname"><span class="pre">test_wrong_network_magic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L652-L718"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_network_magic" title="Permalink to this definition"></a></dt>
<dd><p>Try to submit a TX with wrong network magic.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_signing_key">
<span class="sig-name descname"><span class="pre">test_wrong_signing_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L720-L744"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_signing_key" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction signed with wrong signing key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_tx_era">
<span class="sig-name descname"><span class="pre">test_wrong_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_wrong_tx_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_negative.py#L746-L774"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_tx_era" title="Permalink to this definition"></a></dt>
<dd><p>Try to send a transaction using TX era &gt; network (cluster) era.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_unbalanced">
<span id="cardano-node-tests-tests-test-tx-unbalanced-module"></span><h2>cardano_node_tests.tests.test_tx_unbalanced module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_unbalanced" title="Permalink to this headline"></a></h2>
<p>Tests for unbalanced transactions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_unbalanced.</span></span><span class="sig-name descname"><span class="pre">TestUnbalanced</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L23-L468"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for unbalanced transactions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L65-L90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.payment_addrs" title="Permalink to this definition"></a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.pbt_highest_utxo">
<span class="sig-name descname"><span class="pre">pbt_highest_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L92-L102"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.pbt_highest_utxo" title="Permalink to this definition"></a></dt>
<dd><p>Get UTxO with highest amount of Lovelace.</p>
<p>Meant for property-based tests, so this expensive operation gets executed only once.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='smoke',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='testnets',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_amount_bellow_minimum">
<span class="sig-name descname"><span class="pre">test_build_transfer_amount_bellow_minimum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L295-L324"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_amount_bellow_minimum" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with amount bellow the minimum lovelace required.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_negative_amount">
<span class="sig-name descname"><span class="pre">test_build_transfer_negative_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L326-L353"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_negative_amount" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with negative Lovelace amount.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_unavailable_funds">
<span class="sig-name descname"><span class="pre">test_build_transfer_unavailable_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L157-L195"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_unavailable_funds" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with more funds than available <cite>transaction build</cite>.</p>
<p>Check that it is not possible to build such transaction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_negative_change">
<span class="sig-name descname"><span class="pre">test_negative_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L104-L155"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_negative_change" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with a negative change.</p>
<p>Check that it is not possible to build such transaction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_out_of_bounds_amount">
<span class="sig-name descname"><span class="pre">test_out_of_bounds_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L256-L293"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_out_of_bounds_amount" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with output Lovelace amount that is out of bounds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_amount_bellow_minimum">
<span class="sig-name descname"><span class="pre">test_transfer_amount_bellow_minimum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L355-L417"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_amount_bellow_minimum" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with amount bellow the minimum lovelace required.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_negative_amount">
<span class="sig-name descname"><span class="pre">test_transfer_negative_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L419-L468"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_negative_amount" title="Permalink to this definition"></a></dt>
<dd><p>Try to build a transaction with negative Lovelace amount.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_wrong_balance">
<span class="sig-name descname"><span class="pre">test_wrong_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_tx_unbalanced.py#L197-L254"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_wrong_balance" title="Permalink to this definition"></a></dt>
<dd><p>Build a transaction with unbalanced change (property-based test).</p>
<ul class="simple">
<li><p>build an unbalanced transaction</p></li>
<li><p>check that it is not possible to submit such transaction</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_update_proposals">
<span id="cardano-node-tests-tests-test-update-proposals-module"></span><h2>cardano_node_tests.tests.test_update_proposals module<a class="headerlink" href="#module-cardano_node_tests.tests.test_update_proposals" title="Permalink to this headline"></a></h2>
<p>Tests for update proposals.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_update_proposals.TestUpdateProposals">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_update_proposals.</span></span><span class="sig-name descname"><span class="pre">TestUpdateProposals</span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_update_proposals.py#L23-L357"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_update_proposals.TestUpdateProposals" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for update proposals.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.cluster_update_proposal">
<span class="sig-name descname"><span class="pre">cluster_update_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_update_proposals.py#L32-L39"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.cluster_update_proposal" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.payment_addr">
<span class="sig-name descname"><span class="pre">payment_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">cardano_node_tests.cluster_management.manager.ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_update_proposal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_update_proposals.py#L41-L67"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.payment_addr" title="Permalink to this definition"></a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='long',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'must</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">same</span> <span class="pre">cluster</span> <span class="pre">and</span> <span class="pre">Tx</span> <span class="pre">era'}),</span> <span class="pre">Mark(name='order',</span> <span class="pre">args=(8,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_update_proposals.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.pytestmark" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.test_update_proposal">
<span class="sig-name descname"><span class="pre">test_update_proposal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_update_proposal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_update_proposals.py#L69-L357"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_update_proposals.TestUpdateProposals.test_update_proposal" title="Permalink to this definition"></a></dt>
<dd><p>Test changing protocol parameters using update proposal.</p>
<ul>
<li><p>update parameters specific for Alonzo+ eras, and:</p>
<blockquote>
<div><ul class="simple">
<li><p>wait for next epoch</p></li>
<li><p>check that parameters were updated</p></li>
</ul>
</div></blockquote>
</li>
<li><p>submit update proposal</p></li>
<li><p>in the same epoch, submit another update proposal</p></li>
<li><p>wait for next epoch</p></li>
<li><p>check that parameters were updated with the values submitted in the second
update proposal, i.e. the second update proposal overwritten the first one</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_xdist_helper">
<span id="cardano-node-tests-tests-test-xdist-helper-module"></span><h2>cardano_node_tests.tests.test_xdist_helper module<a class="headerlink" href="#module-cardano_node_tests.tests.test_xdist_helper" title="Permalink to this headline"></a></h2>
<p>Dummy test that helps with <cite>pytest-xdist</cite> scheduling.</p>
<p>The <cite>pytest-xdist</cite> plugin needs to schedule two tests per worker in initial batch. This dummy test
gets scheduled as first not long-running test on every pytest worker so the other test can be
an actual long-running test.</p>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_xdist_helper.test_dummy">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_xdist_helper.</span></span><span class="sig-name descname"><span class="pre">test_dummy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">for_worker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/test_xdist_helper.py#L19-L23"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_xdist_helper.test_dummy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tx_common">
<span id="cardano-node-tests-tests-tx-common-module"></span><h2>cardano_node_tests.tests.tx_common module<a class="headerlink" href="#module-cardano_node_tests.tests.tx_common" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tx_common.get_raw_tx_values">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tx_common.</span></span><span class="sig-name descname"><span class="pre">get_raw_tx_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.clusterlib_klass.ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_build_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/tx_common.py#L15-L62"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tx_common.get_raw_tx_values" title="Permalink to this definition"></a></dt>
<dd><p>Get values for building raw TX using <cite>clusterlib.build_raw_tx_bare</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tx_common.get_txins_txouts">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tx_common.</span></span><span class="sig-name descname"><span class="pre">get_txins_txouts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txouts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">cardano_clusterlib.structs.TxOut</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/6519d944061988da95e0ac541e9980be2cd02237/cardano_node_tests/tests/tx_common.py#L65-L70"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tx_common.get_txins_txouts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cardano_node_tests.tests" title="Permalink to this headline"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cardano_node_tests.pytest_plugins.html" class="btn btn-neutral float-left" title="cardano_node_tests.pytest_plugins package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cardano_node_tests.tests.tests_plutus.html" class="btn btn-neutral float-right" title="cardano_node_tests.tests.tests_plutus package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>